/*! For license information please see 685.1fe60925.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_map_components_maplibre_lab=self.webpackChunkreact_map_components_maplibre_lab||[]).push([[685],{884102:(e,t)=>{function r(e,t,r){void 0===r&&(r={});var o={type:"Feature"};return(0===r.id||r.id)&&(o.id=r.id),r.bbox&&(o.bbox=r.bbox),o.properties=t||{},o.geometry=e,o}function o(e,t,o){if(void 0===o&&(o={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,o)}function n(e,t,o){void 0===o&&(o={});for(var n=0,i=e;n<i.length;n++){var u=i[n];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<u[u.length-1].length;a++)if(u[u.length-1][a]!==u[0][a])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,o)}function i(e,t,o){if(void 0===o&&(o={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:e},t,o)}function u(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function a(e,t,o){return void 0===o&&(o={}),r({type:"MultiLineString",coordinates:e},t,o)}function s(e,t,o){return void 0===o&&(o={}),r({type:"MultiPoint",coordinates:e},t,o)}function f(e,t,o){return void 0===o&&(o={}),r({type:"MultiPolygon",coordinates:e},t,o)}function l(e,r){void 0===r&&(r="kilometers");var o=t.factors[r];if(!o)throw new Error(r+" units is invalid");return e*o}function c(e,r){void 0===r&&(r="kilometers");var o=t.factors[r];if(!o)throw new Error(r+" units is invalid");return e/o}function p(e){return e%(2*Math.PI)*180/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=r,t.geometry=function(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return o(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return n(t).geometry;case"MultiPoint":return s(t).geometry;case"MultiLineString":return a(t).geometry;case"MultiPolygon":return f(t).geometry;default:throw new Error(e+" is invalid")}},t.point=o,t.points=function(e,t,r){return void 0===r&&(r={}),u(e.map((function(e){return o(e,t)})),r)},t.polygon=n,t.polygons=function(e,t,r){return void 0===r&&(r={}),u(e.map((function(e){return n(e,t)})),r)},t.lineString=i,t.lineStrings=function(e,t,r){return void 0===r&&(r={}),u(e.map((function(e){return i(e,t)})),r)},t.featureCollection=u,t.multiLineString=a,t.multiPoint=s,t.multiPolygon=f,t.geometryCollection=function(e,t,o){return void 0===o&&(o={}),r({type:"GeometryCollection",geometries:e},t,o)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r},t.radiansToLength=l,t.lengthToRadians=c,t.lengthToDegrees=function(e,t){return p(c(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=p,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return l(c(e,t),r)},t.convertArea=function(e,r,o){if(void 0===r&&(r="meters"),void 0===o&&(o="kilometers"),!(e>=0))throw new Error("area must be a positive number");var n=t.areaFactors[r];if(!n)throw new Error("invalid original units");var i=t.areaFactors[o];if(!i)throw new Error("invalid final units");return e/n*i},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},345621:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(431013)),i=o(r(774170)),u=r(884102);function a(e,t,r,o,n,i){for(var a=[],s=0;s<6;s++){var f=e[0]+t*n[s],l=e[1]+r*i[s];a.push([f,l])}return a.push(a[0].slice()),u.polygon([a],o)}function s(e,t,r,o,n,i){for(var a=[],s=0;s<6;s++){var f=[];f.push(e),f.push([e[0]+t*n[s],e[1]+r*i[s]]),f.push([e[0]+t*n[(s+1)%6],e[1]+r*i[(s+1)%6]]),f.push(e),a.push(u.polygon([f],o))}return a}t.default=function(e,t,r){void 0===r&&(r={});var o=JSON.stringify(r.properties||{}),f=e[0],l=e[1],c=e[2],p=e[3],d=(l+p)/2,h=(f+c)/2,g=2*t/n.default([f,d],[c,d],r)*(c-f),m=2*t/n.default([h,l],[h,p],r)*(p-l),y=g/2,v=2*y,b=Math.sqrt(3)/2*m,w=c-f,E=p-l,P=3/4*v,M=b,x=(w-v)/(v-y/2),O=Math.floor(x),j=(O*P-y/2-w)/2-y/2+P/2,_=Math.floor((E-b)/b),C=(E-_*b)/2,S=_*b-E>b/2;S&&(C-=b/4);for(var k=[],L=[],N=0;N<6;N++){var q=2*Math.PI/6*N;k.push(Math.cos(q)),L.push(Math.sin(q))}for(var I=[],F=0;F<=O;F++)for(var A=0;A<=_;A++){var D=F%2==1;if(!(0===A&&D||0===A&&S)){var T=F*P+f-j,R=A*M+l+C;if(D&&(R-=b/2),!0===r.triangles)s([T,R],g/2,m/2,JSON.parse(o),k,L).forEach((function(e){r.mask?i.default(r.mask,e)&&I.push(e):I.push(e)}));else{var G=a([T,R],g/2,m/2,JSON.parse(o),k,L);r.mask?i.default(r.mask,G)&&I.push(G):I.push(G)}}}return u.featureCollection(I)}},25566:(e,t,r)=>{var o=r(709705),n=r(345621),i=r(736813),u=r(431013),a=r(866338),s=r(845434),f=r(704686),l=r(476565),c=r(884102),p=r(431540),d=r(510611);function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=h(o),m=h(n),y=h(i),v=h(u),b=h(a),w=h(s),E=h(f),P=h(l);function M(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var o=r.gridType,n=r.property,i=r.weight;if(!e)throw new Error("points is required");if(d.collectionOf(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==i&&"number"!=typeof i)throw new Error("weight must be a number");n=n||"elevation",o=o||"square",i=i||1;var u,a=g.default(e);switch(o){case"point":case"points":u=y.default(a,t,r);break;case"square":case"squares":u=w.default(a,t,r);break;case"hex":case"hexes":u=m.default(a,t,r);break;case"triangle":case"triangles":u=E.default(a,t,r);break;default:throw new Error("invalid gridType")}var s=[];return p.featureEach(u,(function(t){var u=0,a=0;p.featureEach(e,(function(e){var s,f="point"===o?t:b.default(t),l=v.default(f,e,r);if(void 0!==n&&(s=e.properties[n]),void 0===s&&(s=e.geometry.coordinates[2]),void 0===s)throw new Error("zValue is missing");0===l&&(u=s);var c=1/Math.pow(l,i);a+=c,u+=c*s}));var f=P.default(t);f.properties[n]=u/a,s.push(f)})),c.featureCollection(s)}e.exports=M,e.exports.default=M},774170:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(884102),i=r(510611),u=o(r(832676));t.default=function(e,t,r){void 0===r&&(r={});var o=i.getGeom(e),a=i.getGeom(t),s=u.default.intersection(o.coordinates,a.coordinates);return 0===s.length?null:1===s.length?n.polygon(s[0],r.properties):n.multiPolygon(s,r.properties)}},510611:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&o.isNumber(t[0])&&o.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var o=0,n=e.features;o<n.length;o++){var i=n[o];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},777406:(e,t,r)=>{var o=r(709705),n=r(141070),i=r(888147),u=r(63922),a=r(510611),s=r(884102),f=r(727418),l=r(431540);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=c(o),d=c(n),h=c(i),g=c(u),m=c(f);var y={successCallback:null,verbose:!1,polygons:!1},v={};function b(e,t,r,o){o=o||{};for(var n=Object.keys(y),i=0;i<n.length;i++){var u=n[i],a=o[u];a=null!=a?a:y[u],v[u]=a}v.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+r)+"]");var s,f=function(e,t,r){for(var o=e.length-1,n=e[0].length-1,i={rows:o,cols:n,cells:[]},u=t+Math.abs(r),a=0;a<o;++a){i.cells[a]=[];for(var s=0;s<n;++s){var f=0,l=e[a+1][s],c=e[a+1][s+1],p=e[a][s+1],d=e[a][s];if(!(isNaN(l)||isNaN(c)||isNaN(p)||isNaN(d))){f|=l<t?0:l>u?128:64,f|=c<t?0:c>u?32:16,f|=p<t?0:p>u?8:4;var h=+(f|=d<t?0:d>u?2:1),g=0;if(17===f||18===f||33===f||34===f||38===f||68===f||72===f||98===f||102===f||132===f||136===f||137===f||152===f||153===f){var m=(l+c+p+d)/4;g=m>u?2:m<t?0:1,34===f?1===g?f=35:0===g&&(f=136):136===f?1===g?(f=35,g=4):0===g&&(f=34):17===f?1===g?(f=155,g=4):0===g&&(f=153):68===f?1===g?(f=103,g=4):0===g&&(f=102):153===f?1===g&&(f=155):102===f?1===g&&(f=103):152===f?g<2&&(f=156,g=1):137===f?g<2&&(f=139,g=1):98===f?g<2&&(f=99,g=1):38===f?g<2&&(f=39,g=1):18===f?g>0?(f=156,g=4):f=152:33===f?g>0?(f=139,g=4):f=137:72===f?g>0?(f=99,g=4):f=98:132===f&&(g>0?(f=39,g=4):f=38)}if(0!=f&&170!=f){var y,v,b,w,E,P,M,x;y=v=b=w=E=P=M=x=.5;var O=[];1===f?(b=1-ce(t,p,d),x=1-ce(t,l,d),O.push(ie[f])):169===f?(b=ce(u,d,p),x=ce(u,d,l),O.push(ie[f])):4===f?(P=1-ce(t,c,p),w=ce(t,d,p),O.push(oe[f])):166===f?(P=ce(u,p,c),w=1-ce(u,p,d),O.push(oe[f])):16===f?(E=ce(t,p,c),v=ce(t,l,c),O.push(re[f])):154===f?(E=1-ce(u,c,p),v=1-ce(u,c,l),O.push(re[f])):64===f?(M=ce(t,d,l),y=1-ce(t,c,l),O.push(ae[f])):106===f?(M=1-ce(u,l,d),y=ce(u,l,c),O.push(ae[f])):168===f?(w=ce(u,d,p),b=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),O.push(ne[f]),O.push(ie[f])):2===f?(w=1-ce(t,p,d),b=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),O.push(ne[f]),O.push(ie[f])):162===f?(E=ce(u,p,c),P=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),O.push(ne[f]),O.push(ie[f])):8===f?(E=1-ce(t,c,p),P=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),O.push(re[f]),O.push(oe[f])):138===f?(E=1-ce(t,c,p),P=1-ce(u,c,p),y=1-ce(u,c,l),v=1-ce(t,c,l),O.push(re[f]),O.push(oe[f])):32===f?(E=ce(u,p,c),P=ce(t,p,c),y=ce(t,l,c),v=ce(u,l,c),O.push(re[f]),O.push(oe[f])):42===f?(x=1-ce(u,l,d),M=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c),O.push(ue[f]),O.push(ae[f])):128===f&&(x=ce(t,d,l),M=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l),O.push(ue[f]),O.push(ae[f])),5===f?(P=1-ce(t,c,p),x=1-ce(t,l,d),O.push(oe[f])):165===f?(P=ce(u,p,c),x=ce(u,d,l),O.push(oe[f])):20===f?(w=ce(t,d,p),v=ce(t,l,c),O.push(ne[f])):150===f?(w=1-ce(u,p,d),v=1-ce(u,c,l),O.push(ne[f])):80===f?(E=ce(t,p,c),M=ce(t,d,l),O.push(re[f])):90===f?(E=1-ce(u,c,p),M=1-ce(u,l,d),O.push(re[f])):65===f?(b=1-ce(t,p,d),y=1-ce(t,c,l),O.push(ie[f])):105===f?(b=ce(u,d,p),y=ce(u,l,c),O.push(ie[f])):160===f?(E=ce(u,p,c),P=ce(t,p,c),x=ce(t,d,l),M=ce(u,d,l),O.push(re[f]),O.push(oe[f])):10===f?(E=1-ce(t,c,p),P=1-ce(u,c,p),x=1-ce(u,l,d),M=1-ce(t,l,d),O.push(re[f]),O.push(oe[f])):130===f?(w=1-ce(t,p,d),b=1-ce(u,p,d),y=1-ce(u,c,l),v=1-ce(t,c,l),O.push(ne[f]),O.push(ie[f])):40===f?(w=ce(u,d,p),b=ce(t,d,p),y=ce(t,l,c),v=ce(u,l,c),O.push(ne[f]),O.push(ie[f])):101===f?(P=ce(u,p,c),y=ce(u,l,c),O.push(oe[f])):69===f?(P=1-ce(t,c,p),y=1-ce(t,c,l),O.push(oe[f])):149===f?(x=ce(u,d,l),v=1-ce(u,c,l),O.push(ue[f])):21===f?(x=1-ce(t,l,d),v=ce(t,l,c),O.push(ue[f])):86===f?(w=1-ce(u,p,d),M=1-ce(u,l,d),O.push(ne[f])):84===f?(w=ce(t,d,p),M=ce(t,d,l),O.push(ne[f])):89===f?(E=1-ce(u,c,p),b=ce(u,d,p),O.push(ie[f])):81===f?(E=ce(t,p,c),b=1-ce(t,p,d),O.push(ie[f])):96===f?(E=ce(u,p,c),P=ce(t,p,c),M=ce(t,d,l),y=ce(u,l,c),O.push(re[f]),O.push(oe[f])):74===f?(E=1-ce(t,c,p),P=1-ce(u,c,p),M=1-ce(u,l,d),y=1-ce(t,c,l),O.push(re[f]),O.push(oe[f])):24===f?(E=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),v=ce(t,l,c),O.push(re[f]),O.push(ie[f])):146===f?(E=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),v=1-ce(u,c,l),O.push(re[f]),O.push(ie[f])):6===f?(P=1-ce(t,c,p),w=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),O.push(oe[f]),O.push(ne[f])):164===f?(P=ce(u,p,c),w=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),O.push(oe[f]),O.push(ne[f])):129===f?(b=1-ce(t,p,d),x=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l),O.push(ie[f]),O.push(ue[f])):41===f?(b=ce(u,d,p),x=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c),O.push(ie[f]),O.push(ue[f])):66===f?(w=1-ce(t,p,d),b=1-ce(u,p,d),M=1-ce(u,l,d),y=1-ce(t,c,l),O.push(ne[f]),O.push(ie[f])):104===f?(w=ce(u,d,p),b=ce(t,d,p),M=ce(t,d,l),y=ce(u,l,c),O.push(ie[f]),O.push(se[f])):144===f?(E=ce(t,p,c),x=ce(t,d,l),M=ce(u,d,l),v=1-ce(u,c,l),O.push(re[f]),O.push(ae[f])):26===f?(E=1-ce(u,c,p),x=1-ce(u,l,d),M=1-ce(t,l,d),v=ce(t,l,c),O.push(re[f]),O.push(ae[f])):36===f?(P=ce(u,p,c),w=ce(t,d,p),y=ce(t,l,c),v=ce(u,l,c),O.push(oe[f]),O.push(ne[f])):134===f?(P=1-ce(t,c,p),w=1-ce(u,p,d),y=1-ce(u,c,l),v=1-ce(t,c,l),O.push(oe[f]),O.push(ne[f])):9===f?(E=1-ce(t,c,p),P=1-ce(u,c,p),b=ce(u,d,p),x=1-ce(t,l,d),O.push(re[f]),O.push(oe[f])):161===f?(E=ce(u,p,c),P=ce(t,p,c),b=1-ce(t,p,d),x=ce(u,d,l),O.push(re[f]),O.push(oe[f])):37===f?(P=ce(u,p,c),x=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c),O.push(oe[f]),O.push(ue[f])):133===f?(P=1-ce(t,c,p),x=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l),O.push(oe[f]),O.push(ue[f])):148===f?(w=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),v=1-ce(u,c,l),O.push(ne[f]),O.push(ae[f])):22===f?(w=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),v=ce(t,l,c),O.push(ne[f]),O.push(ae[f])):82===f?(E=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),M=1-ce(u,l,d),O.push(re[f]),O.push(ie[f])):88===f?(E=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),M=ce(t,d,l),O.push(re[f]),O.push(ie[f])):73===f?(E=1-ce(t,c,p),P=1-ce(u,c,p),b=ce(u,d,p),y=1-ce(t,c,l),O.push(re[f]),O.push(oe[f])):97===f?(E=ce(u,p,c),P=ce(t,p,c),b=1-ce(t,p,d),y=ce(u,l,c),O.push(re[f]),O.push(oe[f])):145===f?(E=ce(t,p,c),b=1-ce(t,p,d),x=ce(u,d,l),v=1-ce(u,c,l),O.push(re[f]),O.push(ue[f])):25===f?(E=1-ce(u,c,p),b=ce(u,d,p),x=1-ce(t,l,d),v=ce(t,l,c),O.push(re[f]),O.push(ue[f])):70===f?(P=1-ce(t,c,p),w=1-ce(u,p,d),M=1-ce(u,l,d),y=1-ce(t,c,l),O.push(oe[f]),O.push(ne[f])):100===f?(P=ce(u,p,c),w=ce(t,d,p),M=ce(t,d,l),y=ce(u,l,c),O.push(oe[f]),O.push(ne[f])):34===f?(0===g?(E=1-ce(t,c,p),P=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l)):(E=ce(u,p,c),P=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c)),O.push(re[f]),O.push(oe[f]),O.push(ue[f]),O.push(ae[f])):35===f?(4===g?(E=1-ce(t,c,p),P=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l)):(E=ce(u,p,c),P=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c)),O.push(re[f]),O.push(oe[f]),O.push(ie[f]),O.push(ae[f])):136===f?(0===g?(E=ce(u,p,c),P=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c)):(E=1-ce(t,c,p),P=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l)),O.push(re[f]),O.push(oe[f]),O.push(ue[f]),O.push(ae[f])):153===f?(0===g?(E=ce(t,p,c),b=1-ce(t,p,d),x=1-ce(t,l,d),v=ce(t,l,c)):(E=1-ce(u,c,p),b=ce(u,d,p),x=ce(u,d,l),v=1-ce(u,c,l)),O.push(re[f]),O.push(ie[f])):102===f?(0===g?(P=1-ce(t,c,p),w=ce(t,d,p),M=ce(t,d,l),y=1-ce(t,c,l)):(P=ce(u,p,c),w=1-ce(u,p,d),M=1-ce(u,l,d),y=ce(u,l,c)),O.push(oe[f]),O.push(ae[f])):155===f?(4===g?(E=ce(t,p,c),b=1-ce(t,p,d),x=1-ce(t,l,d),v=ce(t,l,c)):(E=1-ce(u,c,p),b=ce(u,d,p),x=ce(u,d,l),v=1-ce(u,c,l)),O.push(re[f]),O.push(ue[f])):103===f?(4===g?(P=1-ce(t,c,p),w=ce(t,d,p),M=ce(t,d,l),y=1-ce(t,c,l)):(P=ce(u,p,c),w=1-ce(u,p,d),M=1-ce(u,l,d),y=ce(u,l,c)),O.push(oe[f]),O.push(ne[f])):152===f?(0===g?(E=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),v=ce(t,l,c)):(E=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),v=1-ce(u,c,l)),O.push(re[f]),O.push(ne[f]),O.push(ie[f])):156===f?(4===g?(E=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),v=ce(t,l,c)):(E=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),v=1-ce(u,c,l)),O.push(re[f]),O.push(ie[f]),O.push(ae[f])):137===f?(0===g?(E=ce(u,p,c),P=ce(t,p,c),b=1-ce(t,p,d),x=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c)):(E=1-ce(t,c,p),P=1-ce(u,c,p),b=ce(u,d,p),x=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l)),O.push(re[f]),O.push(oe[f]),O.push(ie[f])):139===f?(4===g?(E=ce(u,p,c),P=ce(t,p,c),b=1-ce(t,p,d),x=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c)):(E=1-ce(t,c,p),P=1-ce(u,c,p),b=ce(u,d,p),x=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l)),O.push(re[f]),O.push(oe[f]),O.push(ue[f])):98===f?(0===g?(E=1-ce(t,c,p),P=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),M=ce(t,d,l),y=1-ce(t,c,l)):(E=ce(u,p,c),P=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),M=1-ce(u,l,d),y=ce(u,l,c)),O.push(re[f]),O.push(oe[f]),O.push(ae[f])):99===f?(4===g?(E=1-ce(t,c,p),P=1-ce(u,c,p),w=ce(u,d,p),b=ce(t,d,p),M=ce(t,d,l),y=1-ce(t,c,l)):(E=ce(u,p,c),P=ce(t,p,c),w=1-ce(t,p,d),b=1-ce(u,p,d),M=1-ce(u,l,d),y=ce(u,l,c)),O.push(re[f]),O.push(oe[f]),O.push(ie[f])):38===f?(0===g?(P=1-ce(t,c,p),w=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l)):(P=ce(u,p,c),w=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c)),O.push(oe[f]),O.push(ue[f]),O.push(ae[f])):39===f?(4===g?(P=1-ce(t,c,p),w=ce(t,d,p),x=ce(t,d,l),M=ce(u,d,l),y=1-ce(u,c,l),v=1-ce(t,c,l)):(P=ce(u,p,c),w=1-ce(u,p,d),x=1-ce(u,l,d),M=1-ce(t,l,d),y=ce(t,l,c),v=ce(u,l,c)),O.push(oe[f]),O.push(ne[f]),O.push(ae[f])):85===f&&(E=1,P=0,w=1,b=0,x=0,M=1,y=0,v=1),(y<0||y>1||v<0||v>1||E<0||E>1||w<0||w>1||x<0||x>1||M<0||M>1)&&console.log("MarchingSquaresJS-isoBands: "+f+" "+h+" "+l+","+c+","+p+","+d+" "+g+" "+y+" "+v+" "+E+" "+P+" "+w+" "+b+" "+x+" "+M),i.cells[a][s]={cval:f,cval_real:h,flipped:g,topleft:y,topright:v,righttop:E,rightbottom:P,bottomright:w,bottomleft:b,leftbottom:x,lefttop:M,edges:O}}}}}return i}(e,t,r);return v.polygons?(v.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),s=function(e){var t=[],r=0;return e.cells.forEach((function(e,o){e.forEach((function(e,n){if(void 0!==e){var i=le[e.cval](e);"object"==typeof i&&pe(i)?"object"==typeof i[0]&&pe(i[0])?"object"==typeof i[0][0]&&pe(i[0][0])?i.forEach((function(e){e.forEach((function(e){e[0]+=n,e[1]+=o})),t[r++]=e})):(i.forEach((function(e){e[0]+=n,e[1]+=o})),t[r++]=i):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),t}(f)):(v.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),s=function(e){for(var t=[],r=e.rows,o=e.cols,n=[],i=0;i<r;i++)for(var u=0;u<o;u++)if(void 0!==e.cells[i][u]&&e.cells[i][u].edges.length>0){var a=he(e.cells[i][u]),s=null,f=u,l=i;null!==a&&n.push([a.p[0]+f,a.p[1]+l]);do{if(null===(s=ge(e.cells[l][f],a.x,a.y,a.o)))break;if(n.push([s.p[0]+f,s.p[1]+l]),f+=s.x,a=s,(l+=s.y)<0||l>=r||f<0||f>=o||void 0===e.cells[l][f]){var c=de(e,f-=s.x,l-=s.y,s.x,s.y,s.o);if(null===c)break;c.path.forEach((function(e){n.push(e)})),f=c.i,l=c.j,a=c}}while(void 0!==e.cells[l][f]&&e.cells[l][f].edges.length>0);t.push(n),n=[],e.cells[i][u].edges.length>0&&u--}return t}(f)),"function"==typeof v.successCallback&&v.successCallback(s),s}var w=64,E=16,P=4,M=1,x=[],O=[],j=[],_=[],C=[],S=[],k=[],L=[],N=[],q=[],I=[],F=[],A=[],D=[],T=[],R=[],G=[],z=[],Z=[],J=[],B=[],W=[],U=[],V=[];k[85]=q[85]=-1,L[85]=I[85]=0,N[85]=F[85]=1,Z[85]=W[85]=1,J[85]=U[85]=0,B[85]=V[85]=1,x[85]=_[85]=0,O[85]=C[85]=-1,j[85]=T[85]=0,R[85]=A[85]=0,G[85]=D[85]=1,S[85]=z[85]=1,W[1]=W[169]=0,U[1]=U[169]=-1,V[1]=V[169]=0,A[1]=A[169]=-1,D[1]=D[169]=0,T[1]=T[169]=0,q[4]=q[166]=0,I[4]=I[166]=-1,F[4]=F[166]=1,R[4]=R[166]=1,G[4]=G[166]=0,z[4]=z[166]=0,k[16]=k[154]=0,L[16]=L[154]=1,N[16]=N[154]=1,_[16]=_[154]=1,C[16]=C[154]=0,S[16]=S[154]=1,Z[64]=Z[106]=0,J[64]=J[106]=1,B[64]=B[106]=0,x[64]=x[106]=-1,O[64]=O[106]=0,j[64]=j[106]=1,Z[2]=Z[168]=0,J[2]=J[168]=-1,B[2]=B[168]=1,W[2]=W[168]=0,U[2]=U[168]=-1,V[2]=V[168]=0,A[2]=A[168]=-1,D[2]=D[168]=0,T[2]=T[168]=0,R[2]=R[168]=-1,G[2]=G[168]=0,z[2]=z[168]=1,k[8]=k[162]=0,L[8]=L[162]=-1,N[8]=N[162]=0,q[8]=q[162]=0,I[8]=I[162]=-1,F[8]=F[162]=1,A[8]=A[162]=1,D[8]=D[162]=0,T[8]=T[162]=1,R[8]=R[162]=1,G[8]=G[162]=0,z[8]=z[162]=0,k[32]=k[138]=0,L[32]=L[138]=1,N[32]=N[138]=1,q[32]=q[138]=0,I[32]=I[138]=1,F[32]=F[138]=0,x[32]=x[138]=1,O[32]=O[138]=0,j[32]=j[138]=0,_[32]=_[138]=1,C[32]=C[138]=0,S[32]=S[138]=1,W[128]=W[42]=0,U[128]=U[42]=1,V[128]=V[42]=1,Z[128]=Z[42]=0,J[128]=J[42]=1,B[128]=B[42]=0,x[128]=x[42]=-1,O[128]=O[42]=0,j[128]=j[42]=1,_[128]=_[42]=-1,C[128]=C[42]=0,S[128]=S[42]=0,q[5]=q[165]=-1,I[5]=I[165]=0,F[5]=F[165]=0,W[5]=W[165]=1,U[5]=U[165]=0,V[5]=V[165]=0,R[20]=R[150]=0,G[20]=G[150]=1,z[20]=z[150]=1,_[20]=_[150]=0,C[20]=C[150]=-1,S[20]=S[150]=1,k[80]=k[90]=-1,L[80]=L[90]=0,N[80]=N[90]=1,Z[80]=Z[90]=1,J[80]=J[90]=0,B[80]=B[90]=1,A[65]=A[105]=0,D[65]=D[105]=1,T[65]=T[105]=0,x[65]=x[105]=0,O[65]=O[105]=-1,j[65]=j[105]=0,k[160]=k[10]=-1,L[160]=L[10]=0,N[160]=N[10]=1,q[160]=q[10]=-1,I[160]=I[10]=0,F[160]=F[10]=0,W[160]=W[10]=1,U[160]=U[10]=0,V[160]=V[10]=0,Z[160]=Z[10]=1,J[160]=J[10]=0,B[160]=B[10]=1,R[130]=R[40]=0,G[130]=G[40]=1,z[130]=z[40]=1,A[130]=A[40]=0,D[130]=D[40]=1,T[130]=T[40]=0,x[130]=x[40]=0,O[130]=O[40]=-1,j[130]=j[40]=0,_[130]=_[40]=0,C[130]=C[40]=-1,S[130]=S[40]=1,q[37]=q[133]=0,I[37]=I[133]=1,F[37]=F[133]=1,W[37]=W[133]=0,U[37]=U[133]=1,V[37]=V[133]=0,x[37]=x[133]=-1,O[37]=O[133]=0,j[37]=j[133]=0,_[37]=_[133]=1,C[37]=C[133]=0,S[37]=S[133]=0,R[148]=R[22]=-1,G[148]=G[22]=0,z[148]=z[22]=0,W[148]=W[22]=0,U[148]=U[22]=-1,V[148]=V[22]=1,Z[148]=Z[22]=0,J[148]=J[22]=1,B[148]=B[22]=1,_[148]=_[22]=-1,C[148]=C[22]=0,S[148]=S[22]=1,k[82]=k[88]=0,L[82]=L[88]=-1,N[82]=N[88]=1,R[82]=R[88]=1,G[82]=G[88]=0,z[82]=z[88]=1,A[82]=A[88]=-1,D[82]=D[88]=0,T[82]=T[88]=1,Z[82]=Z[88]=0,J[82]=J[88]=-1,B[82]=B[88]=0,k[73]=k[97]=0,L[73]=L[97]=1,N[73]=N[97]=0,q[73]=q[97]=0,I[73]=I[97]=-1,F[73]=F[97]=0,A[73]=A[97]=1,D[73]=D[97]=0,T[73]=T[97]=0,x[73]=x[97]=1,O[73]=O[97]=0,j[73]=j[97]=1,k[145]=k[25]=0,L[145]=L[25]=-1,N[145]=N[25]=0,A[145]=A[25]=1,D[145]=D[25]=0,T[145]=T[25]=1,W[145]=W[25]=0,U[145]=U[25]=1,V[145]=V[25]=1,_[145]=_[25]=-1,C[145]=C[25]=0,S[145]=S[25]=0,q[70]=q[100]=0,I[70]=I[100]=1,F[70]=F[100]=0,R[70]=R[100]=-1,G[70]=G[100]=0,z[70]=z[100]=1,Z[70]=Z[100]=0,J[70]=J[100]=-1,B[70]=B[100]=1,x[70]=x[100]=1,O[70]=O[100]=0,j[70]=j[100]=0,q[101]=q[69]=0,I[101]=I[69]=1,F[101]=F[69]=0,x[101]=x[69]=1,O[101]=O[69]=0,j[101]=j[69]=0,W[149]=W[21]=0,U[149]=U[21]=1,V[149]=V[21]=1,_[149]=_[21]=-1,C[149]=C[21]=0,S[149]=S[21]=0,R[86]=R[84]=-1,G[86]=G[84]=0,z[86]=z[84]=1,Z[86]=Z[84]=0,J[86]=J[84]=-1,B[86]=B[84]=1,k[89]=k[81]=0,L[89]=L[81]=-1,N[89]=N[81]=0,A[89]=A[81]=1,D[89]=D[81]=0,T[89]=T[81]=1,k[96]=k[74]=0,L[96]=L[74]=1,N[96]=N[74]=0,q[96]=q[74]=-1,I[96]=I[74]=0,F[96]=F[74]=1,Z[96]=Z[74]=1,J[96]=J[74]=0,B[96]=B[74]=0,x[96]=x[74]=1,O[96]=O[74]=0,j[96]=j[74]=1,k[24]=k[146]=0,L[24]=L[146]=-1,N[24]=N[146]=1,R[24]=R[146]=1,G[24]=G[146]=0,z[24]=z[146]=1,A[24]=A[146]=0,D[24]=D[146]=1,T[24]=T[146]=1,_[24]=_[146]=0,C[24]=C[146]=-1,S[24]=S[146]=0,q[6]=q[164]=-1,I[6]=I[164]=0,F[6]=F[164]=1,R[6]=R[164]=-1,G[6]=G[164]=0,z[6]=z[164]=0,W[6]=W[164]=0,U[6]=U[164]=-1,V[6]=V[164]=1,Z[6]=Z[164]=1,J[6]=J[164]=0,B[6]=B[164]=0,A[129]=A[41]=0,D[129]=D[41]=1,T[129]=T[41]=1,W[129]=W[41]=0,U[129]=U[41]=1,V[129]=V[41]=0,x[129]=x[41]=-1,O[129]=O[41]=0,j[129]=j[41]=0,_[129]=_[41]=0,C[129]=C[41]=-1,S[129]=S[41]=0,R[66]=R[104]=0,G[66]=G[104]=1,z[66]=z[104]=0,A[66]=A[104]=-1,D[66]=D[104]=0,T[66]=T[104]=1,Z[66]=Z[104]=0,J[66]=J[104]=-1,B[66]=B[104]=0,x[66]=x[104]=0,O[66]=O[104]=-1,j[66]=j[104]=1,k[144]=k[26]=-1,L[144]=L[26]=0,N[144]=N[26]=0,W[144]=W[26]=1,U[144]=U[26]=0,V[144]=V[26]=1,Z[144]=Z[26]=0,J[144]=J[26]=1,B[144]=B[26]=1,_[144]=_[26]=-1,C[144]=C[26]=0,S[144]=S[26]=1,q[36]=q[134]=0,I[36]=I[134]=1,F[36]=F[134]=1,R[36]=R[134]=0,G[36]=G[134]=1,z[36]=z[134]=0,x[36]=x[134]=0,O[36]=O[134]=-1,j[36]=j[134]=1,_[36]=_[134]=1,C[36]=C[134]=0,S[36]=S[134]=0,k[9]=k[161]=-1,L[9]=L[161]=0,N[9]=N[161]=0,q[9]=q[161]=0,I[9]=I[161]=-1,F[9]=F[161]=0,A[9]=A[161]=1,D[9]=D[161]=0,T[9]=T[161]=0,W[9]=W[161]=1,U[9]=U[161]=0,V[9]=V[161]=1,k[136]=0,L[136]=1,N[136]=1,q[136]=0,I[136]=1,F[136]=0,R[136]=-1,G[136]=0,z[136]=1,A[136]=-1,D[136]=0,T[136]=0,W[136]=0,U[136]=-1,V[136]=0,Z[136]=0,J[136]=-1,B[136]=1,x[136]=1,O[136]=0,j[136]=0,_[136]=1,C[136]=0,S[136]=1,k[34]=0,L[34]=-1,N[34]=0,q[34]=0,I[34]=-1,F[34]=1,R[34]=1,G[34]=0,z[34]=0,A[34]=1,D[34]=0,T[34]=1,W[34]=0,U[34]=1,V[34]=1,Z[34]=0,J[34]=1,B[34]=0,x[34]=-1,O[34]=0,j[34]=1,_[34]=-1,C[34]=0,S[34]=0,k[35]=0,L[35]=1,N[35]=1,q[35]=0,I[35]=-1,F[35]=1,R[35]=1,G[35]=0,z[35]=0,A[35]=-1,D[35]=0,T[35]=0,W[35]=0,U[35]=-1,V[35]=0,Z[35]=0,J[35]=1,B[35]=0,x[35]=-1,O[35]=0,j[35]=1,_[35]=1,C[35]=0,S[35]=1,k[153]=0,L[153]=1,N[153]=1,A[153]=-1,D[153]=0,T[153]=0,W[153]=0,U[153]=-1,V[153]=0,_[153]=1,C[153]=0,S[153]=1,q[102]=0,I[102]=-1,F[102]=1,R[102]=1,G[102]=0,z[102]=0,Z[102]=0,J[102]=1,B[102]=0,x[102]=-1,O[102]=0,j[102]=1,k[155]=0,L[155]=-1,N[155]=0,A[155]=1,D[155]=0,T[155]=1,W[155]=0,U[155]=1,V[155]=1,_[155]=-1,C[155]=0,S[155]=0,q[103]=0,I[103]=1,F[103]=0,R[103]=-1,G[103]=0,z[103]=1,Z[103]=0,J[103]=-1,B[103]=1,x[103]=1,O[103]=0,j[103]=0,k[152]=0,L[152]=1,N[152]=1,R[152]=-1,G[152]=0,z[152]=1,A[152]=-1,D[152]=0,T[152]=0,W[152]=0,U[152]=-1,V[152]=0,Z[152]=0,J[152]=-1,B[152]=1,_[152]=1,C[152]=0,S[152]=1,k[156]=0,L[156]=-1,N[156]=1,R[156]=1,G[156]=0,z[156]=1,A[156]=-1,D[156]=0,T[156]=0,W[156]=0,U[156]=-1,V[156]=0,Z[156]=0,J[156]=1,B[156]=1,_[156]=-1,C[156]=0,S[156]=1,k[137]=0,L[137]=1,N[137]=1,q[137]=0,I[137]=1,F[137]=0,A[137]=-1,D[137]=0,T[137]=0,W[137]=0,U[137]=-1,V[137]=0,x[137]=1,O[137]=0,j[137]=0,_[137]=1,C[137]=0,S[137]=1,k[139]=0,L[139]=1,N[139]=1,q[139]=0,I[139]=-1,F[139]=0,A[139]=1,D[139]=0,T[139]=0,W[139]=0,U[139]=1,V[139]=0,x[139]=-1,O[139]=0,j[139]=0,_[139]=1,C[139]=0,S[139]=1,k[98]=0,L[98]=-1,N[98]=0,q[98]=0,I[98]=-1,F[98]=1,R[98]=1,G[98]=0,z[98]=0,A[98]=1,D[98]=0,T[98]=1,Z[98]=0,J[98]=1,B[98]=0,x[98]=-1,O[98]=0,j[98]=1,k[99]=0,L[99]=1,N[99]=0,q[99]=0,I[99]=-1,F[99]=1,R[99]=1,G[99]=0,z[99]=0,A[99]=-1,D[99]=0,T[99]=1,Z[99]=0,J[99]=-1,B[99]=0,x[99]=1,O[99]=0,j[99]=1,q[38]=0,I[38]=-1,F[38]=1,R[38]=1,G[38]=0,z[38]=0,W[38]=0,U[38]=1,V[38]=1,Z[38]=0,J[38]=1,B[38]=0,x[38]=-1,O[38]=0,j[38]=1,_[38]=-1,C[38]=0,S[38]=0,q[39]=0,I[39]=1,F[39]=1,R[39]=-1,G[39]=0,z[39]=0,W[39]=0,U[39]=-1,V[39]=1,Z[39]=0,J[39]=1,B[39]=0,x[39]=-1,O[39]=0,j[39]=1,_[39]=1,C[39]=0,S[39]=0;var H=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},K=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},Q=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},X=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},$=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},Y=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},ee=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},te=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},re=[],oe=[],ne=[],ie=[],ue=[],ae=[],se=[],fe=[];ie[1]=ue[1]=18,ie[169]=ue[169]=18,ne[4]=oe[4]=12,ne[166]=oe[166]=12,re[16]=fe[16]=4,re[154]=fe[154]=4,ae[64]=se[64]=22,ae[106]=se[106]=22,ne[2]=ae[2]=17,ie[2]=ue[2]=18,ne[168]=ae[168]=17,ie[168]=ue[168]=18,re[8]=ie[8]=9,oe[8]=ne[8]=12,re[162]=ie[162]=9,oe[162]=ne[162]=12,re[32]=fe[32]=4,oe[32]=se[32]=1,re[138]=fe[138]=4,oe[138]=se[138]=1,ue[128]=fe[128]=21,ae[128]=se[128]=22,ue[42]=fe[42]=21,ae[42]=se[42]=22,oe[5]=ue[5]=14,oe[165]=ue[165]=14,ne[20]=fe[20]=6,ne[150]=fe[150]=6,re[80]=ae[80]=11,re[90]=ae[90]=11,ie[65]=se[65]=3,ie[105]=se[105]=3,re[160]=ae[160]=11,oe[160]=ue[160]=14,re[10]=ae[10]=11,oe[10]=ue[10]=14,ne[130]=fe[130]=6,ie[130]=se[130]=3,ne[40]=fe[40]=6,ie[40]=se[40]=3,oe[101]=se[101]=1,oe[69]=se[69]=1,ue[149]=fe[149]=21,ue[21]=fe[21]=21,ne[86]=ae[86]=17,ne[84]=ae[84]=17,re[89]=ie[89]=9,re[81]=ie[81]=9,re[96]=se[96]=0,oe[96]=ae[96]=15,re[74]=se[74]=0,oe[74]=ae[74]=15,re[24]=ne[24]=8,ie[24]=fe[24]=7,re[146]=ne[146]=8,ie[146]=fe[146]=7,oe[6]=ae[6]=15,ne[6]=ue[6]=16,oe[164]=ae[164]=15,ne[164]=ue[164]=16,ie[129]=fe[129]=7,ue[129]=se[129]=20,ie[41]=fe[41]=7,ue[41]=se[41]=20,ne[66]=se[66]=2,ie[66]=ae[66]=19,ne[104]=se[104]=2,ie[104]=ae[104]=19,re[144]=ue[144]=10,ae[144]=fe[144]=23,re[26]=ue[26]=10,ae[26]=fe[26]=23,oe[36]=fe[36]=5,ne[36]=se[36]=2,oe[134]=fe[134]=5,ne[134]=se[134]=2,re[9]=ue[9]=10,oe[9]=ie[9]=13,re[161]=ue[161]=10,oe[161]=ie[161]=13,oe[37]=fe[37]=5,ue[37]=se[37]=20,oe[133]=fe[133]=5,ue[133]=se[133]=20,ne[148]=ue[148]=16,ae[148]=fe[148]=23,ne[22]=ue[22]=16,ae[22]=fe[22]=23,re[82]=ne[82]=8,ie[82]=ae[82]=19,re[88]=ne[88]=8,ie[88]=ae[88]=19,re[73]=se[73]=0,oe[73]=ie[73]=13,re[97]=se[97]=0,oe[97]=ie[97]=13,re[145]=ie[145]=9,ue[145]=fe[145]=21,re[25]=ie[25]=9,ue[25]=fe[25]=21,oe[70]=se[70]=1,ne[70]=ae[70]=17,oe[100]=se[100]=1,ne[100]=ae[100]=17,re[34]=ie[34]=9,oe[34]=ne[34]=12,ue[34]=fe[34]=21,ae[34]=se[34]=22,re[136]=fe[136]=4,oe[136]=se[136]=1,ne[136]=ae[136]=17,ie[136]=ue[136]=18,re[35]=fe[35]=4,oe[35]=ne[35]=12,ie[35]=ue[35]=18,ae[35]=se[35]=22,re[153]=fe[153]=4,ie[153]=ue[153]=18,oe[102]=ne[102]=12,ae[102]=se[102]=22,re[155]=ie[155]=9,ue[155]=fe[155]=23,oe[103]=se[103]=1,ne[103]=ae[103]=17,re[152]=fe[152]=4,ne[152]=ae[152]=17,ie[152]=ue[152]=18,re[156]=ne[156]=8,ie[156]=ue[156]=18,ae[156]=fe[156]=23,re[137]=fe[137]=4,oe[137]=se[137]=1,ie[137]=ue[137]=18,re[139]=fe[139]=4,oe[139]=ie[139]=13,ue[139]=se[139]=20,re[98]=ie[98]=9,oe[98]=ne[98]=12,ae[98]=se[98]=22,re[99]=se[99]=0,oe[99]=ne[99]=12,ie[99]=ae[99]=19,oe[38]=ne[38]=12,ue[38]=fe[38]=21,ae[38]=se[38]=22,oe[39]=fe[39]=5,ne[39]=ue[39]=16,ae[39]=se[39]=22;var le=[];function ce(e,t,r){return(e-t)/(r-t)}function pe(e){return e.constructor.toString().indexOf("Array")>-1}function de(e,t,r,o,n,i){for(var u=e.cells[r][t],a=u.cval_real,s=t+o,f=r+n,l=[],c=!1;!c;){if(void 0===e.cells[f]||void 0===e.cells[f][s])if(f-=n,s-=o,a=(u=e.cells[f][s]).cval_real,-1===n)if(0===i)if(a&M)l.push([s,f]),o=-1,n=0,i=0;else{if(!(a&P)){l.push([s+u.bottomright,f]),o=0,n=1,i=1,c=!0;break}l.push([s+1,f]),o=1,n=0,i=0}else{if(!(a&M)){if(a&P){l.push([s+u.bottomright,f]),o=0,n=1,i=1,c=!0;break}l.push([s+u.bottomleft,f]),o=0,n=1,i=0,c=!0;break}l.push([s,f]),o=-1,n=0,i=0}else if(1===n)if(0===i){if(!(a&E)){if(a&w){l.push([s+u.topleft,f+1]),o=0,n=-1,i=0,c=!0;break}l.push([s+u.topright,f+1]),o=0,n=-1,i=1,c=!0;break}l.push([s+1,f+1]),o=1,n=0,i=1}else l.push([s+1,f+1]),o=1,n=0,i=1;else if(-1===o)if(0===i){if(!(a&w)){if(a&M){l.push([s,f+u.leftbottom]),o=1,n=0,i=0,c=!0;break}l.push([s,f+u.lefttop]),o=1,n=0,i=1,c=!0;break}l.push([s,f+1]),o=0,n=1,i=0}else{if(!(a&w)){console.log("MarchingSquaresJS-isoBands: wtf");break}l.push([s,f+1]),o=0,n=1,i=0}else{if(1!==o){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===i){if(!(a&P)){l.push([s+1,f+u.rightbottom]),o=-1,n=0,i=0,c=!0;break}l.push([s+1,f]),o=0,n=-1,i=1}else{if(!(a&P)){if(a&E){l.push([s+1,f+u.righttop]),o=-1,n=0,i=1;break}l.push([s+1,f+u.rightbottom]),o=-1,n=0,i=0,c=!0;break}l.push([s+1,f]),o=0,n=-1,i=1}}else if(a=(u=e.cells[f][s]).cval_real,-1===o)if(0===i)if(void 0!==e.cells[f-1]&&void 0!==e.cells[f-1][s])o=0,n=-1,i=1;else{if(!(a&M)){l.push([s+u.bottomright,f]),o=0,n=1,i=1,c=!0;break}l.push([s,f])}else{if(!(a&w)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+s+","+f);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===o){if(0===i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[f+1]&&void 0!==e.cells[f+1][s])o=0,n=1,i=0;else{if(!(a&E)){l.push([s+u.topleft,f+1]),o=0,n=-1,i=0,c=!0;break}l.push([s+1,f+1]),o=1,n=0,i=1}}else if(-1===n){if(1!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[f][s+1])o=1,n=0,i=1;else{if(!(a&P)){l.push([s+1,f+u.righttop]),o=-1,n=0,i=1,c=!0;break}l.push([s+1,f]),o=0,n=-1,i=1}}else{if(1!==n){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[f][s-1])o=-1,n=0,i=0;else{if(!(a&w)){l.push([s,f+u.leftbottom]),o=1,n=0,i=0,c=!0;break}l.push([s,f+1]),o=0,n=1,i=0}}if(f+=n,(s+=o)===t&&f===r)break}return{path:l,i:s,j:f,x:o,y:n,o:i}}function he(e){if(e.edges.length>0){var t=e.edges[e.edges.length-1],r=e.cval_real;switch(t){case 0:return r&E?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return r&P?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return r&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return r&M?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return r&E?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return r&P?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return r&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return r&M?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return r&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return r&M?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return r&M?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return r&w?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return r&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return r&M?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return r&M?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return r&w?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return r&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return r&w?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return r&M?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return r&w?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return r&w?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return r&E?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return r&w?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return r&E?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function ge(e,t,r,o){var n,i,u,a,s,f=e.cval;switch(t){case-1:0===o?(n=oe[f],u=q[f],a=I[f],s=F[f]):(n=re[f],u=k[f],a=L[f],s=N[f]);break;case 1:0===o?(n=ue[f],u=W[f],a=U[f],s=V[f]):(n=ae[f],u=Z[f],a=J[f],s=B[f]);break;default:switch(r){case-1:0===o?(n=se[f],u=x[f],a=O[f],s=j[f]):(n=fe[f],u=_[f],a=C[f],s=S[f]);break;case 1:0===o?(n=ie[f],u=A[f],a=D[f],s=T[f]):(n=ne[f],u=R[f],a=G[f],s=z[f])}}if(i=e.edges.indexOf(n),void 0===e.edges[i])return null;switch(function(e,t){delete e.edges[t];for(var r=t+1;r<e.edges.length;r++)e.edges[r-1]=e.edges[r];e.edges.pop()}(e,i),f=e.cval_real,n){case 0:f&E?(t=e.topleft,r=1):(t=1,r=e.righttop);break;case 1:f&P?(t=1,r=e.rightbottom):(t=e.topleft,r=1);break;case 2:f&P?(t=e.topleft,r=1):(t=e.bottomright,r=0);break;case 3:f&M?(t=e.bottomleft,r=0):(t=e.topleft,r=1);break;case 4:f&E?(t=e.topright,r=1):(t=1,r=e.righttop);break;case 5:f&P?(t=1,r=e.rightbottom):(t=e.topright,r=1);break;case 6:f&P?(t=e.topright,r=1):(t=e.bottomright,r=0);break;case 7:f&M?(t=e.bottomleft,r=0):(t=e.topright,r=1);break;case 8:f&P?(t=1,r=e.righttop):(t=e.bottomright,r=0);break;case 9:f&M?(t=e.bottomleft,r=0):(t=1,r=e.righttop);break;case 10:f&M?(t=1,r=e.righttop):(t=0,r=e.leftbottom);break;case 11:f&w?(t=0,r=e.lefttop):(t=1,r=e.righttop);break;case 12:f&P?(t=1,r=e.rightbottom):(t=e.bottomright,r=0);break;case 13:f&M?(t=e.bottomleft,r=0):(t=1,r=e.rightbottom);break;case 14:f&M?(t=1,r=e.rightbottom):(t=0,r=e.leftbottom);break;case 15:f&w?(t=0,r=e.lefttop):(t=1,r=e.rightbottom);break;case 16:f&P?(t=0,r=e.leftbottom):(t=e.bottomright,r=0);break;case 17:f&w?(t=0,r=e.lefttop):(t=e.bottomright,r=0);break;case 18:f&M?(t=e.bottomleft,r=0):(t=0,r=e.leftbottom);break;case 19:f&w?(t=0,r=e.lefttop):(t=e.bottomleft,r=0);break;case 20:f&w?(t=0,r=e.leftbottom):(t=e.topleft,r=1);break;case 21:f&E?(t=e.topright,r=1):(t=0,r=e.leftbottom);break;case 22:f&w?(t=0,r=e.lefttop):(t=e.topleft,r=1);break;case 23:f&E?(t=e.topright,r=1):(t=0,r=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return void 0!==t&&void 0!==r&&void 0!==u&&void 0!==a&&void 0!==s||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+r+" "+u+" "+a+" "+s)),{p:[t,r],x:u,y:a,o:s}}function me(e,t,r){if(r=r||{},!s.isObject(r))throw new Error("options is invalid");var o=r.zProperty||"elevation",n=r.commonProperties||{},i=r.breaksProperties||[];if(a.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!s.isObject(n))throw new Error("commonProperties is not an Object");if(!Array.isArray(i))throw new Error("breaksProperties is not an Array");var u=function(e,t){if(t=t||{},!s.isObject(t))throw new Error("options is invalid");var r=t.zProperty||"elevation",o=t.flip,n=t.flags;a.collectionOf(e,"Point","input must contain Points");for(var i=function(e,t){var r={};return l.featureEach(e,(function(e){var t=a.getCoords(e)[1];r[t]||(r[t]=[]),r[t].push(e)})),Object.keys(r).map((function(e){return r[e].sort((function(e,t){return a.getCoords(e)[0]-a.getCoords(t)[0]}))})).sort((function(e,r){return t?a.getCoords(e[0])[1]-a.getCoords(r[0])[1]:a.getCoords(r[0])[1]-a.getCoords(e[0])[1]}))}(e,o),u=[],f=0;f<i.length;f++){for(var c=i[f],p=[],d=0;d<c.length;d++){var h=c[d];h.properties[r]?p.push(h.properties[r]):p.push(0),!0===n&&(h.properties.matrixPosition=[f,d])}u.push(p)}return u}(e,{zProperty:o,flip:!0}),f=function(e,t,r){for(var o=[],n=1;n<t.length;n++){var i=+t[n-1],u=+t[n],a=ve(ye(b(e,i,u-i))),s={};s.groupedRings=a,s[r]=i+"-"+u,o.push(s)}return o}(u,t,o);f=function(e,t,r){var o=p.default(r),n=o[2]-o[0],i=o[3]-o[1],u=o[0],a=o[1],s=t[0].length-1,f=t.length-1,l=n/s,c=i/f,d=function(e){e[0]=e[0]*l+u,e[1]=e[1]*c+a};return e.forEach((function(e){e.groupedRings.forEach((function(e){e.forEach((function(e){e.forEach(d)}))}))})),e}(f,u,e);var c=f.map((function(e,t){if(i[t]&&!s.isObject(i[t]))throw new Error("Each mappedProperty is required to be an Object");var r=m.default({},n,i[t]);return r[o]=e[o],s.multiPolygon(e.groupedRings,r)}));return s.featureCollection(c)}function ye(e){var t=[],r=[];e.forEach((function(e){var o=d.default(s.polygon([e]));r.push(o),t.push({ring:e,area:o})})),r.sort((function(e,t){return t-e}));var o=[];return r.forEach((function(e){for(var r=0;r<t.length;r++)if(t[r].area===e){o.push(t[r].ring),t.splice(r,1);break}})),o}function ve(e){for(var t=e.map((function(e){return{lrCoordinates:e,grouped:!1}})),r=[];!we(t);)for(var o=0;o<t.length;o++)if(!t[o].grouped){var n=[];n.push(t[o].lrCoordinates),t[o].grouped=!0;for(var i=s.polygon([t[o].lrCoordinates]),u=o+1;u<t.length;u++)t[u].grouped||be(s.polygon([t[u].lrCoordinates]),i)&&(n.push(t[u].lrCoordinates),t[u].grouped=!0);r.push(n)}return r}function be(e,t){for(var r=g.default(e),o=0;o<r.features.length;o++)if(!h.default(r.features[o],t))return!1;return!0}function we(e){for(var t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}le[1]=le[169]=H,le[4]=le[166]=K,le[16]=le[154]=Q,le[64]=le[106]=X,le[168]=le[2]=$,le[162]=le[8]=Y,le[138]=le[32]=ee,le[42]=le[128]=te,le[5]=le[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},le[20]=le[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},le[80]=le[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},le[65]=le[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},le[160]=le[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},le[130]=le[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},le[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},le[101]=le[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},le[149]=le[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},le[86]=le[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},le[89]=le[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},le[96]=le[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},le[24]=le[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},le[6]=le[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},le[129]=le[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},le[66]=le[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[144]=le[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},le[36]=le[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},le[9]=le[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},le[37]=le[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},le[148]=le[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},le[82]=le[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},le[73]=le[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},le[145]=le[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},le[70]=le[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[34]=function(e){return[te(e),Y(e)]},le[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},le[136]=function(e){return[ee(e),$(e)]},le[153]=function(e){return[Q(e),H(e)]},le[102]=function(e){return[K(e),X(e)]},le[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},le[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[152]=function(e){return[Q(e),$(e)]},le[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},le[137]=function(e){return[ee(e),H(e)]},le[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},le[98]=function(e){return[Y(e),X(e)]},le[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[38]=function(e){return[K(e),te(e)]},le[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},e.exports=me,e.exports.default=me},7928:(e,t,r)=>{var o=r(709705),n=r(431540),i=r(510611),u=r(884102),a=r(727418);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=s(o),l=s(a),c={successCallback:null,verbose:!1},p={};function d(e,t,r){r=r||{};for(var o=Object.keys(c),n=0;n<o.length;n++){var i=o[n],u=r[i];u=null!=u?u:c[i],p[i]=u}p.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var a,s,f,l=(a=function(e,t){for(var r=e.length-1,o=e[0].length-1,n={rows:r,cols:o,cells:[]},i=0;i<r;++i){n.cells[i]=[];for(var u=0;u<o;++u){var a=0,s=e[i+1][u],f=e[i+1][u+1],l=e[i][u+1],c=e[i][u];if(!(isNaN(s)||isNaN(f)||isNaN(l)||isNaN(c))){a|=s>=t?8:0,a|=f>=t?4:0,a|=l>=t?2:0;var p,d,g,m,y=!1;if(5==(a|=c>=t?1:0)||10===a){var v=(s+f+l+c)/4;5===a&&v<t?(a=10,y=!0):10===a&&v<t&&(a=5,y=!0)}0!==a&&15!==a&&(p=d=g=m=.5,1===a?(g=1-h(t,s,c),d=1-h(t,l,c)):2===a?(d=h(t,c,l),m=1-h(t,f,l)):3===a?(g=1-h(t,s,c),m=1-h(t,f,l)):4===a?(p=h(t,s,f),m=h(t,l,f)):5===a?(p=h(t,s,f),m=h(t,l,f),d=1-h(t,l,c),g=1-h(t,s,c)):6===a?(d=h(t,c,l),p=h(t,s,f)):7===a?(g=1-h(t,s,c),p=h(t,s,f)):8===a?(g=h(t,c,s),p=1-h(t,f,s)):9===a?(d=1-h(t,l,c),p=1-h(t,f,s)):10===a?(p=1-h(t,f,s),m=1-h(t,f,l),d=h(t,c,l),g=h(t,c,s)):11===a?(p=1-h(t,f,s),m=1-h(t,f,l)):12===a?(g=h(t,c,s),m=h(t,l,f)):13===a?(d=1-h(t,l,c),m=h(t,l,f)):14===a?(g=h(t,c,s),d=h(t,c,l)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),n.cells[i][u]={cval:a,flipped:y,top:p,right:m,bottom:d,left:g})}}}return n}(e,t),s=[],f=0,1e-7,a.cells.forEach((function(e,t){e.forEach((function(e,r){if(void 0!==e&&5!==(p=e).cval&&10!==p.cval&&!g(e)){var o=function(e,t,r){var o,n,i=e.length,u=[],a=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],s=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],f=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],l=e[t][r],c=l.cval,p=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][c],d=y(l,p);u.push([r+d[0],t+d[1]]),d=y(l,p=f[c]),u.push([r+d[0],t+d[1]]),m(l);for(var h=r+a[c],g=t+s[c],v=c;h>=0&&g>=0&&g<i&&(h!=r||g!=t)&&void 0!==(l=e[g][h]);){if(0===(c=l.cval)||15===c)return{path:u,info:"mergeable"};p=f[c],o=a[c],n=s[c],5!==c&&10!==c||(5===c?l.flipped?-1===s[v]?(p="left",o=-1,n=0):(p="right",o=1,n=0):-1===a[v]&&(p="bottom",o=0,n=-1):10===c&&(l.flipped?-1===a[v]?(p="top",o=0,n=1):(p="bottom",o=0,n=-1):1===s[v]&&(p="left",o=-1,n=0))),d=y(l,p),u.push([h+d[0],g+d[1]]),m(l),h+=o,g+=n,v=c}return{path:u,info:"closed"}}(a.cells,t,r),n=!1;if("mergeable"===o.info)for(var i=o.path[o.path.length-1][0],u=o.path[o.path.length-1][1],l=f-1;l>=0;l--)if(Math.abs(s[l][0][0]-i)<=1e-7&&Math.abs(s[l][0][1]-u)<=1e-7){for(var c=o.path.length-2;c>=0;--c)s[l].unshift(o.path[c]);n=!0;break}n||(s[f++]=o.path)}var p}))})),s);return"function"==typeof p.successCallback&&p.successCallback(l),l}function h(e,t,r){return(e-t)/(r-t)}function g(e){return 0===e.cval||15===e.cval}function m(e){g(e)||5===e.cval||10===e.cval||(e.cval=15)}function y(e,t){return"top"===t?[e.top,1]:"bottom"===t?[e.bottom,0]:"right"===t?[1,e.right]:"left"===t?[0,e.left]:void 0}function v(e,t,r){if(r=r||{},!u.isObject(r))throw new Error("options is invalid");var o=r.zProperty||"elevation",a=r.commonProperties||{},s=r.breaksProperties||[];if(i.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!u.isObject(a))throw new Error("commonProperties must be an Object");if(!Array.isArray(s))throw new Error("breaksProperties must be an Array");var c=function(e,t){if(t=t||{},!u.isObject(t))throw new Error("options is invalid");var r=t.zProperty||"elevation",o=t.flip,a=t.flags;i.collectionOf(e,"Point","input must contain Points");for(var s=function(e,t){var r={};return n.featureEach(e,(function(e){var t=i.getCoords(e)[1];r[t]||(r[t]=[]),r[t].push(e)})),Object.keys(r).map((function(e){return r[e].sort((function(e,t){return i.getCoords(e)[0]-i.getCoords(t)[0]}))})).sort((function(e,r){return t?i.getCoords(e[0])[1]-i.getCoords(r[0])[1]:i.getCoords(r[0])[1]-i.getCoords(e[0])[1]}))}(e,o),f=[],l=0;l<s.length;l++){for(var c=s[l],p=[],d=0;d<c.length;d++){var h=c[d];h.properties[r]?p.push(h.properties[r]):p.push(0),!0===a&&(h.properties.matrixPosition=[l,d])}f.push(p)}return f}(e,{zProperty:o,flip:!0}),p=function(e,t,r,o,n){for(var i=[],a=1;a<t.length;a++){var s=+t[a],f=l.default({},o,n[a]);f[r]=s;var c=u.multiLineString(d(e,s),f);i.push(c)}return i}(c,t,o,a,s),h=function(e,t,r){var o=f.default(r),i=o[2]-o[0],u=o[3]-o[1],a=o[0],s=o[1],l=t[0].length-1,c=t.length-1,p=i/l,d=u/c,h=function(e){e[0]=e[0]*p+a,e[1]=e[1]*d+s};return e.forEach((function(e){n.coordEach(e,h)})),e}(p,c,e);return u.featureCollection(h)}e.exports=v,e.exports.default=v},281641:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102);t.default=function(e){var t,r,n={type:"FeatureCollection",features:[]};if("LineString"===(r="Feature"===e.type?e.geometry:e).type)t=[r.coordinates];else if("MultiLineString"===r.type)t=r.coordinates;else if("MultiPolygon"===r.type)t=[].concat.apply([],r.coordinates);else{if("Polygon"!==r.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=r.coordinates}return t.forEach((function(e){t.forEach((function(t){for(var r=0;r<e.length-1;r++)for(var i=r;i<t.length-1;i++){if(e===t){if(1===Math.abs(r-i))continue;if(0===r&&i===e.length-2&&e[r][0]===e[e.length-1][0]&&e[r][1]===e[e.length-1][1])continue}var u=(a=e[r][0],s=e[r][1],f=e[r+1][0],l=e[r+1][1],c=t[i][0],p=t[i][1],d=t[i+1][0],h=t[i+1][1],g=void 0,m=void 0,y=void 0,v=void 0,b=void 0,b={x:null,y:null,onLine1:!1,onLine2:!1},0==(g=(h-p)*(f-a)-(d-c)*(l-s))?null!==b.x&&null!==b.y&&b:(v=(f-a)*(m=s-p)-(l-s)*(y=a-c),m=((d-c)*m-(h-p)*y)/g,y=v/g,b.x=a+m*(f-a),b.y=s+m*(l-s),m>=0&&m<=1&&(b.onLine1=!0),y>=0&&y<=1&&(b.onLine2=!0),!(!b.onLine1||!b.onLine2)&&[b.x,b.y]));u&&n.features.push(o.point([u[0],u[1]]))}var a,s,f,l,c,p,d,h,g,m,y,v,b}))})),n}},710091:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(431013)),i=r(431540);t.default=function(e,t){return void 0===t&&(t={}),i.segmentReduce(e,(function(e,r){var o=r.geometry.coordinates;return e+n.default(o[0],o[1],t)}),0)}},367272:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(490265)),i=o(r(693737)),u=r(884102);function a(e){var t=e%360;return t<0&&(t+=360),t}t.default=function(e,t,r,o,s){void 0===s&&(s={});var f=s.steps||64,l=a(r),c=a(o),p=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(l===c)return u.lineString(n.default(e,t,s).geometry.coordinates[0],p);for(var d=l,h=l<c?c:c+360,g=d,m=[],y=0;g<h;)m.push(i.default(e,t,g,s).geometry.coordinates),g=d+360*++y/f;return g>h&&m.push(i.default(e,t,h,s).geometry.coordinates),u.lineString(m,p)}},939632:(e,t,r)=>{var o=r(710091),n=r(551378),i=r(431540),u=r(884102);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(o),f=a(n);function l(e,t,r){if(r=r||{},!u.isObject(r))throw new Error("options is invalid");var o=r.units,n=r.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var a=[];return i.flattenEach(e,(function(e){n&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),function(e,t,r,o){var n=s.default(e,{units:r});if(n<=t)return o(e);var i=n/t;Number.isInteger(i)||(i=Math.floor(i)+1);for(var u=0;u<i;u++)o(f.default(e,t*u,t*(u+1),{units:r}))}(e,t,o,(function(e){a.push(e)}))})),u.featureCollection(a)}e.exports=l,e.exports.default=l},373663:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(884102),i=r(510611),u=o(r(854590)),a=r(431540),s=o(r(351787));function f(e,t){var r=i.getCoords(e),o=i.getCoords(t);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==o.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var u=r[0][0],a=r[0][1],s=r[1][0],f=r[1][1],l=o[0][0],c=o[0][1],p=o[1][0],d=o[1][1],h=(d-c)*(s-u)-(p-l)*(f-a);if(0===h)return null;var g=((p-l)*(a-c)-(d-c)*(u-l))/h,m=((s-u)*(a-c)-(f-a)*(u-l))/h;if(g>=0&&g<=1&&m>=0&&m<=1){var y=u+g*(s-u),v=a+g*(f-a);return n.point([y,v])}return null}t.default=function(e,t){var r={},o=[];if("LineString"===e.type&&(e=n.feature(e)),"LineString"===t.type&&(t=n.feature(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var l=f(e,t);return l&&o.push(l),n.featureCollection(o)}var c=s.default();return c.load(u.default(t)),a.featureEach(u.default(e),(function(e){a.featureEach(c.search(e),(function(t){var n=f(e,t);if(n){var u=i.getCoords(n).join(",");r[u]||(r[u]=!0,o.push(n))}}))})),n.featureCollection(o)}},715668:(e,t,r)=>{var o=r(431540),n=r(510611),i=r(884102);function u(e){var t=e[0],r=e[1];return[r[0]-t[0],r[1]-t[1]]}function a(e,t){return e[0]*t[1]-t[0]*e[1]}function s(e,t,r){if(r=r||{},!i.isObject(r))throw new Error("options is invalid");var u=r.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var a=n.getType(e),s=e.properties;switch(a){case"LineString":return f(e,t,u);case"MultiLineString":var l=[];return o.flattenEach(e,(function(e){l.push(f(e,t,u).geometry.coordinates)})),i.multiLineString(l,s);default:throw new Error("geometry "+a+" is not supported")}}function f(e,t,r){var o=[],s=i.lengthToDegrees(t,r),f=n.getCoords(e),l=[];return f.forEach((function(e,t){if(t!==f.length-1){var r=(d=e,h=f[t+1],g=s,m=Math.sqrt((d[0]-h[0])*(d[0]-h[0])+(d[1]-h[1])*(d[1]-h[1])),y=d[0]+g*(h[1]-d[1])/m,v=h[0]+g*(h[1]-d[1])/m,[[y,d[1]+g*(d[0]-h[0])/m],[v,h[1]+g*(d[0]-h[0])/m]]);if(o.push(r),t>0){var n=o[t-1],i=!function(e,t){return 0===a(u(e),u(t))}(c=r,p=n)&&function(e,t){var r,o,n=e[0],i=u(e),s=t[0],f=u(t),l=a(i,f),c=function(e,t){return[e[0]+t[0],e[1]+t[1]]}(n,function(e,t){return[e*t[0],e*t[1]]}(a((o=n,[(r=s)[0]-o[0],r[1]-o[1]]),f)/l,i));return c}(c,p);!1!==i&&(n[1]=i,r[0]=i),l.push(n[0]),t===f.length-2&&(l.push(r[0]),l.push(r[1]))}2===f.length&&(l.push(r[0]),l.push(r[1]))}var c,p,d,h,g,m,y,v})),i.lineString(l,e.properties)}e.exports=s,e.exports.default=s},990273:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(351787)),i=o(r(854590)),u=o(r(713807)),a=o(r(472793)),s=r(510611),f=r(431540),l=r(884102),c=o(r(110251));function p(e,t){var r=s.getCoords(t),o=s.getCoords(e),n=o[0],i=o[o.length-1],u=e.geometry.coordinates;return c.default(r[0],n)?u.unshift(r[1]):c.default(r[0],i)?u.push(r[1]):c.default(r[1],n)?u.unshift(r[0]):c.default(r[1],i)&&u.push(r[0]),e}t.default=function(e,t,r){if(void 0===r&&(r={}),r=r||{},!l.isObject(r))throw new Error("options is invalid");var o,d=r.tolerance||0,h=[],g=n.default(),m=i.default(e);return g.load(m),f.segmentEach(t,(function(e){var t=!1;e&&(f.featureEach(g.search(e),(function(r){if(!1===t){var n=s.getCoords(e).sort(),i=s.getCoords(r).sort();c.default(n,i)||(0===d?a.default(n[0],r)&&a.default(n[1],r):u.default(r,n[0]).properties.dist<=d&&u.default(r,n[1]).properties.dist<=d)?(t=!0,o=o?p(o,e):e):(0===d?a.default(i[0],e)&&a.default(i[1],e):u.default(e,i[0]).properties.dist<=d&&u.default(e,i[1]).properties.dist<=d)&&(o=o?p(o,r):r)}})),!1===t&&o&&(h.push(o),o=void 0))})),o&&h.push(o),l.featureCollection(h)}},854590:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102),n=r(510611),i=r(431540);t.default=function(e){if(!e)throw new Error("geojson is required");var t=[];return i.flattenEach(e,(function(e){!function(e,t){var r=[],i=e.geometry;if(null!==i){switch(i.type){case"Polygon":r=n.getCoords(i);break;case"LineString":r=[n.getCoords(i)]}r.forEach((function(r){var n=function(e,t){var r=[];return e.reduce((function(e,n){var i,u,a,s,f,l,c=o.lineString([e,n],t);return c.bbox=(u=n,a=(i=e)[0],s=i[1],[a<(f=u[0])?a:f,s<(l=u[1])?s:l,a>f?a:f,s>l?s:l]),r.push(c),n})),r}(r,e.properties);n.forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),o.featureCollection(t)}},551378:(e,t,r)=>{var o=r(151208),n=r(431013),i=r(693737),u=r(884102);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(o),f=a(n),l=a(i);function c(e,t,r,o){if(o=o||{},!u.isObject(o))throw new Error("options is invalid");var n,i=[];if("Feature"===e.type)n=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");n=e.coordinates}for(var a,c,p,d=n.length,h=0,g=0;g<n.length&&!(t>=h&&g===n.length-1);g++){if(h>t&&0===i.length){if(!(a=t-h))return i.push(n[g]),u.lineString(i);c=s.default(n[g],n[g-1])-180,p=l.default(n[g],a,c,o),i.push(p.geometry.coordinates)}if(h>=r)return(a=r-h)?(c=s.default(n[g],n[g-1])-180,p=l.default(n[g],a,c,o),i.push(p.geometry.coordinates),u.lineString(i)):(i.push(n[g]),u.lineString(i));if(h>=t&&i.push(n[g]),g===n.length-1)return u.lineString(i);h+=f.default(n[g],n[g+1],o)}if(h<t&&n.length===d)throw new Error("Start position is beyond line");var m=n[n.length-1];return u.lineString([m,m])}e.exports=c,e.exports.default=c},974792:(e,t,r)=>{var o=r(510611),n=r(884102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(r(713807));function a(e,t,r){var i=o.getCoords(r);if("LineString"!==o.getType(r))throw new Error("line must be a LineString");for(var a,s=u.default(r,e),f=u.default(r,t),l=[(a=s.properties.index<=f.properties.index?[s,f]:[f,s])[0].geometry.coordinates],c=a[0].properties.index+1;c<a[1].properties.index+1;c++)l.push(i[c]);return l.push(a[1].geometry.coordinates),n.lineString(l,r.properties)}e.exports=a,e.exports.default=a},907477:(e,t,r)=>{var o=r(351787),n=r(655077),i=r(709705),u=r(215608),a=r(854590),s=r(373663),f=r(713807),l=r(510611),c=r(431540),p=r(884102);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=d(o),g=d(n),m=d(i),y=d(u),v=d(a),b=d(s),w=d(f);function E(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var r=l.getType(e),o=l.getType(t);if("LineString"!==r)throw new Error("line must be LineString");if("FeatureCollection"===o)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===o)throw new Error("splitter cannot be a GeometryCollection");var n=y.default(t,{precision:7});switch(o){case"Point":return M(e,n);case"MultiPoint":return P(e,n);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return P(e,b.default(e,n))}}function P(e,t){var r=[],o=h.default();return c.flattenEach(t,(function(t){if(r.forEach((function(e,t){e.id=t})),r.length){var n=o.search(t);if(n.features.length){var i=x(t,n);r=r.filter((function(e){return e.id!==i.id})),o.remove(i),c.featureEach(M(i,t),(function(e){r.push(e),o.insert(e)}))}}else(r=M(e,t).features).forEach((function(e){e.bbox||(e.bbox=g.default(m.default(e)))})),o.load(p.featureCollection(r))})),p.featureCollection(r)}function M(e,t){var r=[],o=l.getCoords(e)[0],n=l.getCoords(e)[e.geometry.coordinates.length-1];if(O(o,l.getCoord(t))||O(n,l.getCoord(t)))return p.featureCollection([e]);var i=h.default(),u=v.default(e);i.load(u);var a=i.search(t);if(!a.features.length)return p.featureCollection([e]);var s=x(t,a),f=[o],d=c.featureReduce(u,(function(e,o,n){var i=l.getCoords(o)[1],u=l.getCoord(t);return n===s.id?(e.push(u),r.push(p.lineString(e)),O(u,i)?[u]:[u,i]):(e.push(i),e)}),f);return d.length>1&&r.push(p.lineString(d)),p.featureCollection(r)}function x(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var r,o=1/0;return c.featureEach(t,(function(t){var n=w.default(t,e).properties.dist;n<o&&(r=t,o=n)})),r}function O(e,t){return e[0]===t[0]&&e[1]===t[1]}e.exports=E,e.exports.default=E},641933:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(709705)),i=r(510611),u=r(884102),a=o(r(476565));function s(e,t,r,o){t=t||("Feature"===e.type?e.properties:{});var a=i.getGeom(e),s=a.coordinates,l=a.type;if(!s.length)throw new Error("line must contain coordinates");switch(l){case"LineString":return r&&(s=f(s)),u.polygon([s],t);case"MultiLineString":var c=[],p=0;return s.forEach((function(e){if(r&&(e=f(e)),o){var t=(i=n.default(u.lineString(e)),a=i[0],s=i[1],l=i[2],d=i[3],Math.abs(a-l)*Math.abs(s-d));t>p?(c.unshift(e),p=t):c.push(e)}else c.push(e);var i,a,s,l,d})),u.polygon(c,t);default:throw new Error("geometry type "+l+" is not supported")}}function f(e){var t=e[0],r=t[0],o=t[1],n=e[e.length-1],i=n[0],u=n[1];return r===i&&o===u||e.push(t),e}t.default=function(e,t){var r,o,n;void 0===t&&(t={});var f=t.properties,l=null===(r=t.autoComplete)||void 0===r||r,c=null===(o=t.orderCoords)||void 0===o||o;if(null!==(n=t.mutate)&&void 0!==n&&n||(e=a.default(e)),"FeatureCollection"===e.type){var p=[];return e.features.forEach((function(e){p.push(i.getCoords(s(e,{},l,c)))})),u.multiPolygon(p,f)}return s(e,f,l,c)}},860482:(e,t,r)=>{var o=r(884102);function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(r(832676));function u(e,t){var r,n=function(e){var t=e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return o.polygon(t)}(t);return("FeatureCollection"===e.type?a(2===(r=e).features.length?i.default.union(r.features[0].geometry.coordinates,r.features[1].geometry.coordinates):i.default.union.apply(i.default,r.features.map((function(e){return e.geometry.coordinates})))):a(i.default.union(e.geometry.coordinates))).geometry.coordinates.forEach((function(e){n.geometry.coordinates.push(e[0])})),n}function a(e){return o.multiPolygon(e)}e.exports=u,e.exports.default=u},431540:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102);function n(e,t,r){if(null!==e)for(var o,i,u,a,s,f,l,c,p=0,d=0,h=e.type,g="FeatureCollection"===h,m="Feature"===h,y=g?e.features.length:1,v=0;v<y;v++){s=(c=!!(l=g?e.features[v].geometry:m?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var b=0;b<s;b++){var w=0,E=0;if(null!==(a=c?l.geometries[b]:l)){f=a.coordinates;var P=a.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(f,d,v,w,E))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(o=0;o<f.length;o++){if(!1===t(f[o],d,v,w,E))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(o=0;o<f.length;o++){for(i=0;i<f[o].length-p;i++){if(!1===t(f[o][i],d,v,w,E))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&E++}"Polygon"===P&&w++;break;case"MultiPolygon":for(o=0;o<f.length;o++){for(E=0,i=0;i<f[o].length;i++){for(u=0;u<f[o][i].length-p;u++){if(!1===t(f[o][i][u],d,v,w,E))return!1;d++}E++}w++}break;case"GeometryCollection":for(o=0;o<a.geometries.length;o++)if(!1===n(a.geometries[o],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function a(e,t){var r,o,n,i,u,a,s,f,l,c,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(a=d?e.features[r].geometry:h?e.geometry:e,f=d?e.features[r].properties:h?e.properties:{},l=d?e.features[r].bbox:h?e.bbox:void 0,c=d?e.features[r].id:h?e.id:void 0,u=(s=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,n=0;n<u;n++)if(null!==(i=s?a.geometries[n]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,f,l,c))return!1;break;case"GeometryCollection":for(o=0;o<i.geometries.length;o++)if(!1===t(i.geometries[o],p,f,l,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,f,l,c))return!1;p++}}function s(e,t){a(e,(function(e,r,n,i,u){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(o.feature(e,n,{bbox:i,id:u}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var f=0;f<e.coordinates.length;f++){var l={type:a,coordinates:e.coordinates[f]};if(!1===t(o.feature(l,n),r,f))return!1}}))}function f(e,t){s(e,(function(e,r,i){var u=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var s,f=0,l=0,c=0;return!1!==n(e,(function(n,a,p,d,h){if(void 0===s||r>f||d>l||h>c)return s=n,f=r,l=d,c=h,void(u=0);var g=o.lineString([s,n],e.properties);if(!1===t(g,r,i,h,u))return!1;u++,s=n}))&&void 0}}}))}function l(e,t){if(!e)throw new Error("geojson is required");s(e,(function(e,r,n){if(null!==e.geometry){var i=e.geometry.type,u=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var a=0;a<u.length;a++)if(!1===t(o.lineString(u[a],e.properties),r,n,a))return!1}}}))}t.coordAll=function(e){var t=[];return n(e,(function(e){t.push(e)})),t},t.coordEach=n,t.coordReduce=function(e,t,r,o){var i=r;return n(e,(function(e,o,n,u,a){i=0===o&&void 0===r?e:t(i,e,o,n,u,a)}),o),i},t.featureEach=u,t.featureReduce=function(e,t,r){var o=r;return u(e,(function(e,n){o=0===n&&void 0===r?e:t(o,e,n)})),o},t.findPoint=function(e,t){if(t=t||{},!o.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,i=t.multiFeatureIndex||0,u=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var f=r.coordinates;switch(r.type){case"Point":return o.point(f,s,t);case"MultiPoint":return i<0&&(i=f.length+i),o.point(f[i],s,t);case"LineString":return a<0&&(a=f.length+a),o.point(f[a],s,t);case"Polygon":return u<0&&(u=f.length+u),a<0&&(a=f[u].length+a),o.point(f[u][a],s,t);case"MultiLineString":return i<0&&(i=f.length+i),a<0&&(a=f[i].length+a),o.point(f[i][a],s,t);case"MultiPolygon":return i<0&&(i=f.length+i),u<0&&(u=f[i].length+u),a<0&&(a=f[i][u].length-a),o.point(f[i][u][a],s,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!o.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,i=t.multiFeatureIndex||0,u=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var f=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=f.length+a-1),o.lineString([f[a],f[a+1]],s,t);case"Polygon":return u<0&&(u=f.length+u),a<0&&(a=f[u].length+a-1),o.lineString([f[u][a],f[u][a+1]],s,t);case"MultiLineString":return i<0&&(i=f.length+i),a<0&&(a=f[i].length+a-1),o.lineString([f[i][a],f[i][a+1]],s,t);case"MultiPolygon":return i<0&&(i=f.length+i),u<0&&(u=f[i].length+u),a<0&&(a=f[i][u].length-a-1),o.lineString([f[i][u][a],f[i][u][a+1]],s,t)}throw new Error("geojson is invalid")},t.flattenEach=s,t.flattenReduce=function(e,t,r){var o=r;return s(e,(function(e,n,i){o=0===n&&0===i&&void 0===r?e:t(o,e,n,i)})),o},t.geomEach=a,t.geomReduce=function(e,t,r){var o=r;return a(e,(function(e,n,i,u,a){o=0===n&&void 0===r?e:t(o,e,n,i,u,a)})),o},t.lineEach=l,t.lineReduce=function(e,t,r){var o=r;return l(e,(function(e,n,i,u){o=0===n&&void 0===r?e:t(o,e,n,i,u)})),o},t.propEach=i,t.propReduce=function(e,t,r){var o=r;return i(e,(function(e,n){o=0===n&&void 0===r?e:t(o,e,n)})),o},t.segmentEach=f,t.segmentReduce=function(e,t,r){var o=r,n=!1;return f(e,(function(e,i,u,a,s){o=!1===n&&void 0===r?e:t(o,e,i,u,a,s),n=!0})),o}},399034:(e,t,r)=>{var o=r(151208),n=r(693737),i=r(431013);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=u(o),s=u(n),f=u(i);function l(e,t){var r=f.default(e,t),o=a.default(e,t);return s.default(e,r/2,o)}e.exports=l,e.exports.default=l},710920:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(535366)),i=r(431540);function u(e){for(var t=0,r=0,o=e;r<o.length;r++)t+=o[r];return t/e.length}t.default=function(e,t){var r=t.inputField,o=t.threshold||1e5,a=t.p||2,s=t.binary||!1,f=t.alpha||-1,l=t.standardization||!0,c=n.default(e,{alpha:f,binary:s,p:a,standardization:l,threshold:o}),p=[];i.featureEach(e,(function(e){var t=e.properties||{};p.push(t[r])}));for(var d=u(p),h=function(e){for(var t=u(e),r=0,o=0,n=e;o<n.length;o++){var i=n[o];r+=Math.pow(i-t,2)}return r/e.length}(p),g=0,m=0,y=0,v=0,b=c.length,w=0;w<b;w++){for(var E=0,P=0;P<b;P++)g+=c[w][P]*(p[w]-d)*(p[P]-d),m+=c[w][P],y+=Math.pow(c[w][P]+c[P][w],2),E+=c[w][P]+c[P][w];v+=Math.pow(E,2)}var M=g/m/h,x=-1/(b-1),O=(b*b*(y*=.5)-b*v+m*m*3)/((b-1)*(b+1)*(m*m))-x*x,j=Math.sqrt(O);return{expectedMoranIndex:x,moranIndex:M,stdNorm:j,zNorm:(M-x)/j}}},713807:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(151208)),i=o(r(431013)),u=o(r(693737)),a=o(r(373663)),s=r(431540),f=r(884102),l=r(510611);t.default=function(e,t,r){void 0===r&&(r={});var o=f.point([1/0,1/0],{dist:1/0}),c=0;return s.flattenEach(e,(function(e){for(var s=l.getCoords(e),p=0;p<s.length-1;p++){var d=f.point(s[p]);d.properties.dist=i.default(t,d,r);var h=f.point(s[p+1]);h.properties.dist=i.default(t,h,r);var g=i.default(d,h,r),m=Math.max(d.properties.dist,h.properties.dist),y=n.default(d,h),v=u.default(t,m,y+90,r),b=u.default(t,m,y-90,r),w=a.default(f.lineString([v.geometry.coordinates,b.geometry.coordinates]),f.lineString([d.geometry.coordinates,h.geometry.coordinates])),E=null;w.features.length>0&&((E=w.features[0]).properties.dist=i.default(t,E,r),E.properties.location=c+i.default(d,E,r)),d.properties.dist<o.properties.dist&&((o=d).properties.index=p,o.properties.location=c),h.properties.dist<o.properties.dist&&((o=h).properties.index=p+1,o.properties.location=c+g),E&&E.properties.dist<o.properties.dist&&((o=E).properties.index=p),c+=g}})),o}},982059:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(510611),i=r(431540),u=o(r(263892)),a=o(r(727418));t.default=function(e,t,r){void 0===r&&(r={});var o=r.units,s=r.properties||{},f=function(e){var t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((function(e){return"Point"===e.geometry.type})),e;default:throw new Error("points must be a Point Collection")}}(e);if(!f.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==n.getType(t))throw new Error("line must be a LineString");var l=1/0,c=null;return i.featureEach(f,(function(e){var r=u.default(e,t,{units:o});r<l&&(l=r,c=e)})),c&&(c.properties=a.default({dist:l},c.properties,s)),c}},866379:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(476565)),i=o(r(431013)),u=r(431540);t.default=function(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var r,o=1/0,a=0;return u.featureEach(t,(function(t,r){var n=i.default(e,t);n<o&&(a=r,o=n)})),(r=n.default(t.features[a])).properties.featureIndex=a,r.properties.distanceToPoint=o,r}},63377:(e,t,r)=>{var o=r(510611);function n(e,t){var r=o.getCoord(e),n=o.getGeom(t).coordinates[0];if(n.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},u=i.a,a=i.b,s=i.c,f=r[0],l=r[1],c=n[0][0],p=n[0][1],d=void 0!==u?u:n[0][2],h=n[1][0],g=n[1][1],m=void 0!==a?a:n[1][2],y=n[2][0],v=n[2][1],b=void 0!==s?s:n[2][2];return(b*(f-c)*(l-g)+d*(f-h)*(l-v)+m*(f-y)*(l-p)-m*(f-c)*(l-v)-b*(f-h)*(l-p)-d*(f-y)*(l-g))/((f-c)*(l-g)+(f-h)*(l-v)+(f-y)*(l-p)-(f-c)*(l-v)-(f-h)*(l-p)-(f-y)*(l-g))}e.exports=n,e.exports.default=n},736813:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(45184)),i=o(r(431013)),u=r(884102);t.default=function(e,t,r){void 0===r&&(r={}),r.mask&&!r.units&&(r.units="kilometers");for(var o=[],a=e[0],s=e[1],f=e[2],l=e[3],c=t/i.default([a,s],[f,s],r)*(f-a),p=t/i.default([a,s],[a,l],r)*(l-s),d=f-a,h=l-s,g=Math.floor(d/c),m=(h-Math.floor(h/p)*p)/2,y=a+(d-g*c)/2;y<=f;){for(var v=s+m;v<=l;){var b=u.point([y,v],r.properties);r.mask?n.default(b,r.mask)&&o.push(b):o.push(b),v+=p}y+=c}return u.featureCollection(o)}},255771:(e,t,r)=>{var o=r(63922),n=r(878230),i=r(866379),u=r(888147),a=r(884102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=s(o),l=s(n),c=s(i),p=s(u);function d(e){for(var t=function(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?a.featureCollection([a.feature(e)]):a.featureCollection([e]):e}(e),r=l.default(t),o=!1,n=0;!o&&n<t.features.length;){var i,u=t.features[n].geometry,s=!1;if("Point"===u.type)r.geometry.coordinates[0]===u.coordinates[0]&&r.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var d=!1;for(i=0;!d&&i<u.coordinates.length;)r.geometry.coordinates[0]===u.coordinates[i][0]&&r.geometry.coordinates[1]===u.coordinates[i][1]&&(o=!0,d=!0),i++}else if("LineString"===u.type)for(i=0;!s&&i<u.coordinates.length-1;)h(r.geometry.coordinates[0],r.geometry.coordinates[1],u.coordinates[i][0],u.coordinates[i][1],u.coordinates[i+1][0],u.coordinates[i+1][1])&&(s=!0,o=!0),i++;else if("MultiLineString"===u.type)for(var g=0;g<u.coordinates.length;){s=!1,i=0;for(var m=u.coordinates[g];!s&&i<m.length-1;)h(r.geometry.coordinates[0],r.geometry.coordinates[1],m[i][0],m[i][1],m[i+1][0],m[i+1][1])&&(s=!0,o=!0),i++;g++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||p.default(r,u)&&(o=!0);n++}if(o)return r;var y=a.featureCollection([]);for(n=0;n<t.features.length;n++)y.features=y.features.concat(f.default(t.features[n]).features);return a.point(c.default(r,y).geometry.coordinates)}function h(e,t,r,o,n,i){return Math.sqrt((n-r)*(n-r)+(i-o)*(i-o))===Math.sqrt((e-r)*(e-r)+(t-o)*(t-o))+Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}e.exports=d,e.exports.default=d},263892:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(431013)),i=r(884102),u=r(510611),a=r(431540),s=o(r(606213));function f(e,t){return e[0]*t[0]+e[1]*t[1]}function l(e,t,r){return"planar"===r.method?s.default(e,t,r):n.default(e,t,r)}t.default=function(e,t,r){if(void 0===r&&(r={}),r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=i.point(e):"Point"===e.type?e=i.feature(e):u.featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=i.lineString(t):"LineString"===t.type?t=i.feature(t):u.featureOf(t,"LineString","line");var o=1/0,n=e.geometry.coordinates;return a.segmentEach(t,(function(e){var t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],u=function(e,t,r,o){var n=[r[0]-t[0],r[1]-t[1]],i=f([e[0]-t[0],e[1]-t[1]],n);if(i<=0)return l(e,t,{method:o.method,units:"degrees"});var u=f(n,n);if(u<=i)return l(e,r,{method:o.method,units:"degrees"});var a=i/u;return l(e,[t[0]+a*n[0],t[1]+a*n[1]],{method:o.method,units:"degrees"})}(n,t,i,r);u<o&&(o=u)})),i.convertLength(o,"degrees",r.units)}},400187:(e,t,r)=>{var o=r(888147),n=r(884102),i=r(431540);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=u(o);function s(e,t){var r=[];return i.featureEach(e,(function(e){var o=!1;if("Point"===e.geometry.type)i.geomEach(t,(function(t){a.default(e,t)&&(o=!0)})),o&&r.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var u=[];i.geomEach(t,(function(t){i.coordEach(e,(function(e){a.default(e,t)&&(o=!0,u.push(e))}))})),o&&r.push(n.multiPoint(u))}})),n.featureCollection(r)}e.exports=s,e.exports.default=s},184978:(e,t,r)=>{var o=r(431540),n=r(884102);function i(e,t){var r=[],i=t.iterations||1;if(!e)throw new Error("inputPolys is required");return o.geomEach(e,(function(e,t,o){var s,f,l;switch(e.type){case"Polygon":s=[[]];for(var c=0;c<i;c++)l=[[]],f=e,c>0&&(f=n.polygon(s).geometry),u(f,l),s=l.slice(0);r.push(n.polygon(s,o));break;case"MultiPolygon":s=[[[]]];for(var p=0;p<i;p++)l=[[[]]],f=e,p>0&&(f=n.multiPolygon(s).geometry),a(f,l),s=l.slice(0);r.push(n.multiPolygon(s,o));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),n.featureCollection(r)}function u(e,t){var r=0,n=0;o.coordEach(e,(function(o,i,u,a,s){s>r&&(r=s,n=i,t.push([]));var f=i-n,l=e.coordinates[s][f+1],c=o[0],p=o[1],d=l[0],h=l[1];t[s].push([.75*c+.25*d,.75*p+.25*h]),t[s].push([.25*c+.75*d,.25*p+.75*h])}),!0),t.forEach((function(e){e.push(e[0])}))}function a(e,t){var r=0,n=0,i=0;o.coordEach(e,(function(o,u,a,s,f){s>i&&(i=s,n=u,t.push([[]])),f>r&&(r=f,n=u,t[s].push([]));var l=u-n,c=e.coordinates[s][f][l+1],p=o[0],d=o[1],h=c[0],g=c[1];t[s][f].push([.75*p+.25*h,.75*d+.25*g]),t[s][f].push([.25*p+.75*h,.25*d+.75*g])}),!0),t.forEach((function(e){e.forEach((function(e){e.push(e[0])}))}))}e.exports=i,e.exports.default=i},205215:(e,t,r)=>{var o=r(510611),n=r(884102),i=r(709705),u=r(63922),a=r(866379);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=s(i),l=s(u),c=s(a);function p(e,t){var r,i,u,a,s=o.getCoords(e),p=o.getCoords(t),g=f.default(t),m=0,y=null;switch(s[0]>g[0]&&s[0]<g[2]&&s[1]>g[1]&&s[1]<g[3]&&(m=(y=c.default(e,l.default(t))).properties.featureIndex),o.getType(t)){case"Polygon":r=p[0][m],i=p[0][0],null!==y&&y.geometry.coordinates[1]<s[1]&&(i=p[0][m]),a=h(p[0][0],p[0][p[0].length-1],s);var v=d(p[0],s,a,u,r,i);r=v[0],i=v[1];break;case"MultiPolygon":for(var b=0,w=0,E=0,P=0;P<p[0].length;P++){b=P;for(var M=!1,x=0;x<p[0][P].length;x++){if(w=x,E===m){M=!0;break}E++}if(M)break}r=p[0][b][w],i=p[0][b][w],a=h(p[0][0][0],p[0][0][p[0][0].length-1],s),p.forEach((function(e){var t=d(e[0],s,a,u,r,i);r=t[0],i=t[1]}))}return n.featureCollection([n.point(r),n.point(i)])}function d(e,t,r,o,n,i){for(var u=0;u<e.length;u++){var a=e[u],s=e[u+1];u===e.length-1&&(s=e[0]),o=h(a,s,t),r<=0&&o>0?h(t,a,n)<0||(n=a):r>0&&o<=0&&(h(t,a,i)>0||(i=a)),r=o}return[n,i]}function h(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}e.exports=p,e.exports.default=p},997383:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102),n=r(510611);function i(e,t){return void 0===t&&(t={}),a(n.getGeom(e).coordinates,t.properties?t.properties:"Feature"===e.type?e.properties:{})}function u(e,t){void 0===t&&(t={});var r=n.getGeom(e).coordinates,i=t.properties?t.properties:"Feature"===e.type?e.properties:{},u=[];return r.forEach((function(e){u.push(a(e,i))})),o.featureCollection(u)}function a(e,t){return e.length>1?o.multiLineString(e,t):o.lineString(e[0],t)}t.default=function(e,t){void 0===t&&(t={});var r=n.getGeom(e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),r.type){case"Polygon":return i(r,t);case"MultiPolygon":return u(r,t);default:throw new Error("invalid poly")}},t.polygonToLine=i,t.multiPolygonToLine=u,t.coordsToLine=a},724312:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(884102),i=o(r(777254)),u=o(r(536467));t.default=function(e){var t=i.default.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var r=[],o=[];return t.getEdgeRings().filter((function(e){return e.isValid()})).forEach((function(e){e.isHole()?r.push(e):o.push(e)})),r.forEach((function(e){u.default.findEdgeRingContaining(e,o)&&o.push(e)})),n.featureCollection(o.map((function(e){return e.toPolygon()})))}},795344:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102),n=r(934772),i=function(){function e(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return o.lineString([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(e){return n.orientationIndex(e.from.coordinates,e.to.coordinates,this.to.coordinates)},e}();t.default=i},536467:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(934772),i=r(884102),u=o(r(619062)),a=o(r(888147)),s=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},e.prototype.get=function(e){return this.edges[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.edges.forEach(e)},e.prototype.map=function(e){return this.edges.map(e)},e.prototype.some=function(e){return this.edges.some(e)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,r,o){return r.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=o),t}),0),r=(0===t?this.length:t)-1,o=(t+1)%this.length,i=n.orientationIndex(this.edges[r].from.coordinates,this.edges[t].from.coordinates,this.edges[o].from.coordinates);return 0===i?this.edges[r].from.coordinates[0]>this.edges[o].from.coordinates[0]:i>0},e.prototype.toMultiPoint=function(){return i.multiPoint(this.edges.map((function(e){return e.from.coordinates})))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=i.polygon([e])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=u.default(this.toPolygon())},e.findEdgeRingContaining=function(e,t){var r,o,u=e.getEnvelope();return t.forEach((function(t){var a=t.getEnvelope();if(o&&(r=o.getEnvelope()),!n.envelopeIsEqual(a,u)&&n.envelopeContains(a,u)){for(var s=e.map((function(e){return e.from.coordinates})),f=void 0,l=function(e){t.some((function(t){return n.coordinatesEqual(e,t.from.coordinates)}))||(f=e)},c=0,p=s;c<p.length;c++)l(p[c]);f&&t.inside(i.point(f))&&(o&&!n.envelopeContains(r,a)||(o=t))}})),o},e.prototype.inside=function(e){return a.default(e,this.toPolygon())},e}();t.default=s},777254:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(423424)),i=o(r(795344)),u=o(r(536467)),a=r(431540),s=r(510611),f=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(t){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var r=new e;return a.flattenEach(t,(function(e){s.featureOf(e,"LineString","Graph::fromGeoJson"),a.coordReduce(e,(function(e,t){if(e){var o=r.getNode(e),n=r.getNode(t);r.addEdge(o,n)}return t}))})),r},e.prototype.getNode=function(e){var t=n.default.buildId(e),r=this.nodes[t];return r||(r=this.nodes[t]=new n.default(e)),r},e.prototype.addEdge=function(e,t){var r=new i.default(e,t),o=r.getSymetric();this.edges.push(r),this.edges.push(o)},e.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},e.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var r=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),r.forEach((function(e){return t._removeIfDangle(e)}))}},e.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},e.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,r){e.getOuterEdge((0===r?e.getOuterEdges().length:r)-1).symetric.next=t}))},e.prototype._computeNextCCWEdges=function(e,t){for(var r,o,n=e.getOuterEdges(),i=n.length-1;i>=0;--i){var u=n[i],a=u.symetric,s=void 0,f=void 0;u.label===t&&(s=u),a.label===t&&(f=a),s&&f&&(f&&(o=f),s&&(o&&(o.next=s,o=void 0),r||(r=s)))}o&&(o.next=r)},e.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(r){if(!(r.label>=0)){e.push(r);var o=r;do{o.label=t,o=o.next}while(!r.isEqual(o));t++}})),e},e.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(r){e._computeNextCCWEdges(r,t.label)}))}));var t=[];return this.edges.forEach((function(r){r.ring||t.push(e._findEdgeRing(r))})),t},e.prototype._findIntersectionNodes=function(e){var t=[],r=e,o=function(){var o=0;r.from.getOuterEdges().forEach((function(t){t.label===e.label&&++o})),o>1&&t.push(r.from),r=r.next};do{o()}while(!e.isEqual(r));return t},e.prototype._findEdgeRing=function(e){var t=e,r=new u.default;do{r.push(t),t.ring=r,t=t.next}while(!e.isEqual(t));return r},e.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},e.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()},e}();t.default=f},423424:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(934772),n=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(e){return e.join(",")},e.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},e.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},e.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,r){var n=t.to,i=r.to;if(n.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(n.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(n.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return n.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?n.coordinates[1]-i.coordinates[1]:i.coordinates[1]-n.coordinates[1];var u=o.orientationIndex(e.coordinates,n.coordinates,i.coordinates);return u<0?1:u>0?-1:Math.pow(n.coordinates[0]-e.coordinates[0],2)+Math.pow(n.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},e.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},e}();t.default=n},934772:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(888147)),i=r(884102);t.orientationIndex=function(e,t,r){var o,n=t[0]-e[0],i=t[1]-e[1],u=r[0]-t[0];return((o=n*(r[1]-t[1])-u*i)>0)-(o<0)||+o},t.envelopeIsEqual=function(e,t){var r=e.geometry.coordinates[0].map((function(e){return e[0]})),o=e.geometry.coordinates[0].map((function(e){return e[1]})),n=t.geometry.coordinates[0].map((function(e){return e[0]})),i=t.geometry.coordinates[0].map((function(e){return e[1]}));return Math.max.apply(null,r)===Math.max.apply(null,n)&&Math.max.apply(null,o)===Math.max.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,n)&&Math.min.apply(null,o)===Math.min.apply(null,i)},t.envelopeContains=function(e,t){return t.geometry.coordinates[0].every((function(t){return n.default(i.point(t),e)}))},t.coordinatesEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},820981:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(431540),i=r(884102),u=o(r(476565));function a(e,t,r){void 0===r&&(r={});var o=(r=r||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&i.isNumber(e[0])?e="mercator"===t?s(e):f(e):(!0!==o&&(e=u.default(e)),n.coordEach(e,(function(e){var r="mercator"===t?s(e):f(e);e[0]=r[0],e[1]=r[1]}))),e}function s(e){var t,r=Math.PI/180,o=6378137,n=20037508.342789244,i=[o*(Math.abs(e[0])<=180?e[0]:e[0]-360*((t=e[0])<0?-1:t>0?1:0))*r,o*Math.log(Math.tan(.25*Math.PI+.5*e[1]*r))];return i[0]>n&&(i[0]=n),i[0]<-n&&(i[0]=-n),i[1]>n&&(i[1]=n),i[1]<-n&&(i[1]=-n),i}function f(e){var t=180/Math.PI,r=6378137;return[e[0]*t/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*t]}t.toMercator=function(e,t){return void 0===t&&(t={}),a(e,"mercator",t)},t.toWgs84=function(e,t){return void 0===t&&(t={}),a(e,"wgs84",t)}},516295:function(e,t,r){var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,n++)o[n]=i[u];return o};Object.defineProperty(t,"__esModule",{value:!0});var n=r(884102);function i(e){return Array.isArray(e)?a(e):e&&e.bbox?a(e.bbox):[360*u(),180*u()]}function u(){return Math.random()-.5}function a(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}t.randomPosition=i,t.randomPoint=function(e,t){void 0===t&&(t={}),null==e&&(e=1);for(var r=[],o=0;o<e;o++)r.push(n.point(i(t.bbox)));return n.featureCollection(r)},t.randomPolygon=function(e,t){void 0===t&&(t={}),null==e&&(e=1),n.isNumber(t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),n.isNumber(t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);for(var r=[],u=function(e){var u,a=[],s=o(Array(t.num_vertices+1)).map(Math.random);s.forEach((function(e,t,r){r[t]=t>0?e+r[t-1]:e})),s.forEach((function(e){e=2*e*Math.PI/s[s.length-1];var r=Math.random();a.push([r*(t.max_radial_length||10)*Math.sin(e),r*(t.max_radial_length||10)*Math.cos(e)])})),a[a.length-1]=a[0],a=a.map((u=i(t.bbox),function(e){return[e[0]+u[0],e[1]+u[1]]})),r.push(n.polygon([a]))},a=0;a<e;a++)u();return n.featureCollection(r)},t.randomLineString=function(e,t){if(void 0===t&&(t={}),t=t||{},!n.isObject(t))throw new Error("options is invalid");var r=t.bbox,o=t.num_vertices,u=t.max_length,a=t.max_rotation;null==e&&(e=1),(!n.isNumber(o)||void 0===o||o<2)&&(o=10),n.isNumber(u)&&void 0!==u||(u=1e-4),n.isNumber(a)&&void 0!==a||(a=Math.PI/8);for(var s=[],f=0;f<e;f++){for(var l=[i(r)],c=0;c<o-1;c++){var p=(0===c?2*Math.random()*Math.PI:Math.tan((l[c][1]-l[c-1][1])/(l[c][0]-l[c-1][0])))+(Math.random()-.5)*a*2,d=Math.random()*u;l.push([l[c][0]+d*Math.cos(p),l[c][1]+d*Math.sin(p)])}s.push(n.lineString(l))}return n.featureCollection(s)}},454131:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(784255)),i=o(r(431013)),u=r(884102);t.default=function(e,t,r,o){void 0===o&&(o={});for(var a=[],s=e[0],f=e[1],l=e[2],c=e[3],p=t/i.default([s,f],[l,f],o)*(l-s),d=r/i.default([s,f],[s,c],o)*(c-f),h=l-s,g=c-f,m=Math.floor(h/p),y=Math.floor(g/d),v=(g-y*d)/2,b=s+(h-m*p)/2,w=0;w<m;w++){for(var E=f+v,P=0;P<y;P++){var M=u.polygon([[[b,E],[b,E+d],[b+p,E+d],[b+p,E],[b,E]]],o.properties);o.mask?n.default(o.mask,M)&&a.push(M):a.push(M),E+=d}b+=p}return u.featureCollection(a)}},851138:(e,t,r)=>{var o=r(476565),n=r(603809),i=r(431540),u=r(510611),a=r(884102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=s(o),l=s(n);function c(e,t){if(t=t||{},!a.isObject(t))throw new Error("options is invalid");var r=t.reverse||!1,o=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof r)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof o)throw new Error("<mutate> must be a boolean");!1===o&&(e=f.default(e));var n=[];switch(e.type){case"GeometryCollection":return i.geomEach(e,(function(e){p(e,r)})),e;case"FeatureCollection":return i.featureEach(e,(function(e){i.featureEach(p(e,r),(function(e){n.push(e)}))})),a.featureCollection(n)}return p(e,r)}function p(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){p(e,t)})),e;case"LineString":return d(u.getCoords(e),t),e;case"Polygon":return h(u.getCoords(e),t),e;case"MultiLineString":return u.getCoords(e).forEach((function(e){d(e,t)})),e;case"MultiPolygon":return u.getCoords(e).forEach((function(e){h(e,t)})),e;case"Point":case"MultiPoint":return e}}function d(e,t){l.default(e)===t&&e.reverse()}function h(e,t){l.default(e[0])!==t&&e[0].reverse();for(var r=1;r<e.length;r++)l.default(e[r])===t&&e[r].reverse()}e.exports=c,e.exports.default=c},762054:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102),n=r(510611);function i(e,t){var r=o.degreesToRadians(e[1]),n=o.degreesToRadians(t[1]),i=o.degreesToRadians(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var u=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),a=Math.atan2(i,u);return(o.radiansToDegrees(a)+360)%360}t.default=function(e,t,r){var o;return void 0===r&&(r={}),(o=r.final?i(n.getCoord(t),n.getCoord(e)):i(n.getCoord(e),n.getCoord(t)))>180?-(360-o):o}},862054:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102),n=r(510611);t.default=function(e,t,r,i){void 0===i&&(i={});var u=t<0,a=o.convertLength(Math.abs(t),i.units,"meters");u&&(a=-Math.abs(a));var s=n.getCoord(e),f=function(e,t,r,n){var i=t/(n=void 0===n?o.earthRadius:Number(n)),u=e[0]*Math.PI/180,a=o.degreesToRadians(e[1]),s=o.degreesToRadians(r),f=i*Math.cos(s),l=a+f;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),p=Math.abs(c)>1e-11?f/c:Math.cos(a);return[(180*(u+i*Math.sin(s)/p)/Math.PI+540)%360-180,180*l/Math.PI]}(s,a,r);return f[0]+=f[0]-s[0]>180?-360:s[0]-f[0]>180?360:0,o.point(f,i.properties)}},606213:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102),n=r(510611);t.default=function(e,t,r){void 0===r&&(r={});var i=n.getCoord(e),u=n.getCoord(t);u[0]+=u[0]-i[0]>180?-360:i[0]-u[0]>180?360:0;var a=function(e,t,r){var n=r=void 0===r?o.earthRadius:Number(r),i=e[1]*Math.PI/180,u=t[1]*Math.PI/180,a=u-i,s=Math.abs(t[0]-e[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(f)>1e-11?a/f:Math.cos(i);return Math.sqrt(a*a+l*l*s*s)*n}(i,u);return o.convertLength(a,"meters",r.units)}},703503:(e,t,r)=>{var o=r(884102);function n(e,t){if(!e)throw new Error("featurecollection is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return o.featureCollection(function(e,t){for(var r,o,n=e.slice(0),i=e.length,u=i-t;i-- >u;)r=n[o=Math.floor((i+1)*Math.random())],n[o]=n[i],n[i]=r;return n.slice(u)}(e.features,t))}e.exports=n,e.exports.default=n},481674:(e,t,r)=>{var o=r(490265),n=r(367272),i=r(431540),u=r(884102),a=r(510611);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=s(o),l=s(n);function c(e,t,r,o,n){if(n=n||{},!u.isObject(n))throw new Error("options is invalid");var s=n.properties;if(!e)throw new Error("center is required");if(null==r)throw new Error("bearing1 is required");if(null==o)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if(p(r)===p(o))return f.default(e,t,n);var c=a.getCoords(e),d=l.default(e,t,r,o,n),h=[[c]];return i.coordEach(d,(function(e){h[0].push(e)})),h[0].push(c),u.polygon(h,s)}function p(e){var t=e%360;return t<0&&(t+=360),t}e.exports=c,e.exports.default=c},585697:(e,t,r)=>{var o=r(709705),n=r(888147),i=r(431013),u=r(467517),a=r(871435),s=r(913652),f=r(510611),l=r(884102);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=c(o),d=c(n),h=c(i),g=c(u),m=c(a),y=c(s);function v(e){for(var t=e,r=[];t.parent;)r.unshift(t),t=t.parent;return r}var b={search:function(e,t,r,o){e.cleanDirty();var n=(o=o||{}).heuristic||b.heuristics.manhattan,i=o.closest||!1,u=new P((function(e){return e.f})),a=t;for(t.h=n(t,r),u.push(t);u.size()>0;){var s=u.pop();if(s===r)return v(s);s.closed=!0;for(var f=e.neighbors(s),l=0,c=f.length;l<c;++l){var p=f[l];if(!p.closed&&!p.isWall()){var d=s.g+p.getCost(s),h=p.visited;(!h||d<p.g)&&(p.visited=!0,p.parent=s,p.h=p.h||n(p,r),p.g=d,p.f=p.g+p.h,e.markDirty(p),i&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),h?u.rescoreElement(p):u.push(p))}}}return i?v(a):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var r=Math.sqrt(2),o=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return 1*(o+n)+(r-2)*Math.min(o,n)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function w(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var r=0;r<e.length;r++){this.grid[r]=[];for(var o=0,n=e[r];o<n.length;o++){var i=new E(r,o,n[o]);this.grid[r][o]=i,this.nodes.push(i)}}this.init()}function E(e,t,r){this.x=e,this.y=t,this.weight=r}function P(e){this.content=[],this.scoreFunction=e}function M(e,t,r){if(r=r||{},!l.isObject(r))throw new Error("options is invalid");var o=r.resolution,n=r.minDistance,i=r.obstacles||l.featureCollection([]);if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(o&&!l.isNumber(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(n)throw new Error("options.minDistance is not yet implemented");var u=f.getCoord(e),a=f.getCoord(t);switch(e=l.point(u),t=l.point(a),f.getType(i)){case"FeatureCollection":if(0===i.features.length)return l.lineString([u,a]);break;case"Polygon":i=l.featureCollection([l.feature(f.getGeom(i))]);break;default:throw new Error("invalid obstacles")}var s=i;s.features.push(e),s.features.push(t);var c=p.default(g.default(y.default(p.default(s)),1.15));o||(o=h.default([c[0],c[1]],[c[2],c[1]],r)/100),s.features.pop(),s.features.pop();for(var d=c[0],v=c[1],E=c[2],P=c[3],M=o/h.default([d,v],[E,v],r)*(E-d),O=o/h.default([d,v],[d,P],r)*(P-v),j=E-d,_=P-v,C=Math.floor(j/M),S=Math.floor(_/O),k=(j-C*M)/2,L=[],N=[],q=[],I=[],F=1/0,A=1/0,D=P-(_-S*O)/2,T=0;D>=v;){for(var R=[],G=[],z=d+k,Z=0;z<=E;){var J=l.point([z,D]),B=x(J,i);R.push(B?0:1),G.push(z+"|"+D);var W=h.default(J,e);!B&&W<F&&(F=W,q={x:Z,y:T});var U=h.default(J,t);!B&&U<A&&(A=U,I={x:Z,y:T}),z+=M,Z++}N.push(R),L.push(G),D-=O,T++}var V=new w(N,{diagonal:!0}),H=V.grid[q.y][q.x],K=V.grid[I.y][I.x],Q=b.search(V,H,K),X=[u];return Q.forEach((function(e){var t=L[e.x][e.y].split("|");X.push([+t[0],+t[1]])})),X.push(a),m.default(l.lineString(X))}function x(e,t){for(var r=0;r<t.features.length;r++)if(d.default(e,t.features[r]))return!0;return!1}w.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)b.cleanNode(this.nodes[e])},w.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)b.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},w.prototype.markDirty=function(e){this.dirtyNodes.push(e)},w.prototype.neighbors=function(e){var t=[],r=e.x,o=e.y,n=this.grid;return n[r-1]&&n[r-1][o]&&t.push(n[r-1][o]),n[r+1]&&n[r+1][o]&&t.push(n[r+1][o]),n[r]&&n[r][o-1]&&t.push(n[r][o-1]),n[r]&&n[r][o+1]&&t.push(n[r][o+1]),this.diagonal&&(n[r-1]&&n[r-1][o-1]&&t.push(n[r-1][o-1]),n[r+1]&&n[r+1][o-1]&&t.push(n[r+1][o-1]),n[r-1]&&n[r-1][o+1]&&t.push(n[r-1][o+1]),n[r+1]&&n[r+1][o+1]&&t.push(n[r+1][o+1])),t},w.prototype.toString=function(){for(var e,t,r,o,n=[],i=this.grid,u=0,a=i.length;u<a;u++){for(e=[],r=0,o=(t=i[u]).length;r<o;r++)e.push(t[r].weight);n.push(e.join(" "))}return n.join("\n")},E.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},E.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},E.prototype.isWall=function(){return 0===this.weight},P.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,o=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(o)))break;this.content[r]=t,this.content[e]=o,e=r}},bubbleUp:function(e){for(var t=this.content.length,r=this.content[e],o=this.scoreFunction(r);;){var n,i=e+1<<1,u=i-1,a=null;if(u<t){var s=this.content[u];(n=this.scoreFunction(s))<o&&(a=u)}if(i<t){var f=this.content[i];this.scoreFunction(f)<(null===a?o:n)&&(a=i)}if(null===a)break;this.content[e]=this.content[a],this.content[a]=r,e=a}}},e.exports=M,e.exports.default=M},57191:(e,t,r)=>{var o=r(871435),n=r(476565),i=r(431540),u=r(884102);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(o),f=a(n);function l(e,t,r){var o=t.x,n=t.y,i=r.x-o,u=r.y-n;if(0!==i||0!==u){var a=((e.x-o)*i+(e.y-n)*u)/(i*i+u*u);a>1?(o=r.x,n=r.y):a>0&&(o+=i*a,n+=u*a)}return(i=e.x-o)*i+(u=e.y-n)*u}function c(e,t,r,o,n){for(var i,u=o,a=t+1;a<r;a++){var s=l(e[a],e[t],e[r]);s>u&&(i=a,u=s)}u>o&&(i-t>1&&c(e,t,i,o,n),n.push(e[i]),r-i>1&&c(e,i,r,o,n))}function p(e,t){var r=e.length-1,o=[e[0]];return c(e,0,r,t,o),o.push(e[r]),o}function d(e,t,r){if(e.length<=2)return e;var o=void 0!==t?t*t:1;return e=r?e:function(e,t){for(var r,o,n,i,u,a=e[0],s=[a],f=1,l=e.length;f<l;f++)n=a,void 0,void 0,(i=(o=r=e[f]).x-n.x)*i+(u=o.y-n.y)*u>t&&(s.push(r),a=r);return a!==r&&s.push(r),s}(e,o),p(e,o)}function h(e,t){if(t=t||{},!u.isObject(t))throw new Error("options is invalid");var r=void 0!==t.tolerance?t.tolerance:1,o=t.highQuality||!1,n=t.mutate||!1;if(!e)throw new Error("geojson is required");if(r&&r<0)throw new Error("invalid tolerance");return!0!==n&&(e=f.default(e)),i.geomEach(e,(function(e){!function(e,t,r){var o=e.type;if("Point"===o||"MultiPoint"===o)return e;s.default(e,!0);var n=e.coordinates;switch(o){case"LineString":e.coordinates=g(n,t,r);break;case"MultiLineString":e.coordinates=n.map((function(e){return g(e,t,r)}));break;case"Polygon":e.coordinates=m(n,t,r);break;case"MultiPolygon":e.coordinates=n.map((function(e){return m(e,t,r)}))}}(e,r,o)})),e}function g(e,t,r){return d(e.map((function(e){return{x:e[0],y:e[1],z:e[2]}})),t,r).map((function(e){return e.z?[e.x,e.y,e.z]:[e.x,e.y]}))}function m(e,t,r){return e.map((function(e){var o=e.map((function(e){return{x:e[0],y:e[1]}}));if(o.length<4)throw new Error("invalid polygon");for(var n=d(o,t,r).map((function(e){return[e.x,e.y]}));!y(n);)n=d(o,t-=.01*t,r).map((function(e){return[e.x,e.y]}));return n[n.length-1][0]===n[0][0]&&n[n.length-1][1]===n[0][1]||n.push(n[0]),n}))}function y(e){return!(e.length<3||3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}e.exports=h,e.exports.default=h},845434:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(454131));t.default=function(e,t,r){return void 0===r&&(r={}),n.default(e,t,t,r)}},655077:(e,t,r)=>{function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=o(r(431013));function i(e){var t=e[0],r=e[1],o=e[2],i=e[3];if(n.default(e.slice(0,2),[o,r])>=n.default(e.slice(0,2),[t,i])){var u=(r+i)/2;return[t,u-(o-t)/2,o,u+(o-t)/2]}var a=(t+o)/2;return[a-(i-r)/2,r,a+(i-r)/2,i]}e.exports=i,e.exports.default=i},973955:(e,t,r)=>{var o=r(431540),n=r(510611),i=r(884102),u=r(876320),a=r(400187),s=r(261211);function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=f(u),c=f(a),p=f(s);function d(e,t){if(t=t||{},!i.isObject(t))throw new Error("options is invalid");var r=t.steps||64,u=t.weight,a=t.properties||{};if(!i.isNumber(r))throw new Error("steps must be a number");if(!i.isObject(a))throw new Error("properties must be a number");var s=o.coordAll(e).length,f=l.default(e,{weight:u}),d=0,g=0,m=0;o.featureEach(e,(function(e){var t=e.properties[u]||1,r=h(n.getCoords(e),n.getCoords(f));d+=Math.pow(r.x,2)*t,g+=Math.pow(r.y,2)*t,m+=r.x*r.y*t}));var y=d-g,v=Math.sqrt(Math.pow(y,2)+4*Math.pow(m,2)),b=2*m,w=Math.atan((y+v)/b),E=180*w/Math.PI,P=0,M=0,x=0;o.featureEach(e,(function(e){var t=e.properties[u]||1,r=h(n.getCoords(e),n.getCoords(f));P+=Math.pow(r.x*Math.cos(w)-r.y*Math.sin(w),2)*t,M+=Math.pow(r.x*Math.sin(w)+r.y*Math.cos(w),2)*t,x+=t}));var O=Math.sqrt(2*P/x),j=Math.sqrt(2*M/x),_=p.default(f,O,j,{units:"degrees",angle:E,steps:r,properties:a}),C=c.default(e,i.featureCollection([_])),S={meanCenterCoordinates:n.getCoords(f),semiMajorAxis:O,semiMinorAxis:j,numberOfFeatures:s,angle:E,percentageWithinEllipse:100*o.coordAll(C).length/s};return _.properties.standardDeviationalEllipse=S,_}function h(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}e.exports=d,e.exports.default=d},532015:(e,t,r)=>{var o=r(888147),n=r(476565),i=r(431540);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=u(o),s=u(n);function f(e,t,r,o){return e=s.default(e),t=s.default(t),i.featureEach(e,(function(e){e.properties||(e.properties={}),i.featureEach(t,(function(t){void 0===e.properties[o]&&a.default(e,t)&&(e.properties[o]=t.properties[r])}))})),e}e.exports=f,e.exports.default=f},795845:(e,t,r)=>{var o=r(509187),n=r(884102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(o);function a(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=s(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(s(e))})),t}function s(e){var t=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},o=0,n=0;n<e.length;n++){for(var i=0;i<e[n].length;i++)for(var u=0;u<t;u++)r.vertices.push(e[n][i][u]);n>0&&(o+=e[n-1].length,r.holes.push(o))}return r}(e),r=u.default(t.vertices,t.holes,2),o=[],i=[];r.forEach((function(e,o){var n=r[o];i.push([t.vertices[2*n],t.vertices[2*n+1]])}));for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),o.push(n.polygon([s]))}return o}e.exports=a,e.exports.default=a},218829:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(884102);t.default=function(e,t){var r=!1;return o.featureCollection(function(e){if(e.length<3)return[];e.sort(i);for(var t,r,o,a,s,f,l=e.length-1,c=e[l].x,p=e[0].x,d=e[l].y,h=d;l--;)e[l].y<d&&(d=e[l].y),e[l].y>h&&(h=e[l].y);var g,m=p-c,y=h-d,v=m>y?m:y,b=.5*(p+c),w=.5*(h+d),E=[new n({__sentinel:!0,x:b-20*v,y:w-v},{__sentinel:!0,x:b,y:w+20*v},{__sentinel:!0,x:b+20*v,y:w-v})],P=[],M=[];for(l=e.length;l--;){for(M.length=0,g=E.length;g--;)(m=e[l].x-E[g].x)>0&&m*m>E[g].r?(P.push(E[g]),E.splice(g,1)):m*m+(y=e[l].y-E[g].y)*y>E[g].r||(M.push(E[g].a,E[g].b,E[g].b,E[g].c,E[g].c,E[g].a),E.splice(g,1));for(u(M),g=M.length;g;)r=M[--g],t=M[--g],o=e[l],a=r.x-t.x,s=r.y-t.y,f=2*(a*(o.y-r.y)-s*(o.x-r.x)),Math.abs(f)>1e-12&&E.push(new n(t,r,o))}for(Array.prototype.push.apply(P,E),l=P.length;l--;)(P[l].a.__sentinel||P[l].b.__sentinel||P[l].c.__sentinel)&&P.splice(l,1);return P}(e.features.map((function(e){var o={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?o.z=e.properties[t]:3===e.geometry.coordinates.length&&(r=!0,o.z=e.geometry.coordinates[2]),o}))).map((function(e){var t=[e.a.x,e.a.y],n=[e.b.x,e.b.y],i=[e.c.x,e.c.y],u={};return r?(t.push(e.a.z),n.push(e.b.z),i.push(e.c.z)):u={a:e.a.z,b:e.b.z,c:e.c.z},o.polygon([[t,n,i,t]],u)})))};var n=function(e,t,r){this.a=e,this.b=t,this.c=r;var o,n,i=t.x-e.x,u=t.y-e.y,a=r.x-e.x,s=r.y-e.y,f=i*(e.x+t.x)+u*(e.y+t.y),l=a*(e.x+r.x)+s*(e.y+r.y),c=2*(i*(r.y-t.y)-u*(r.x-t.x));this.x=(s*f-u*l)/c,this.y=(i*l-a*f)/c,o=this.x-e.x,n=this.y-e.y,this.r=o*o+n*n};function i(e,t){return t.x-e.x}function u(e){var t,r,o,n,i,u=e.length;e:for(;u;)for(r=e[--u],t=e[--u],o=u;o;)if(i=e[--o],t===(n=e[--o])&&r===i||t===i&&r===n){e.splice(u,2),e.splice(o,2),u-=2;continue e}}},290067:(e,t,r)=>{var o=r(866338),n=r(762054),i=r(606213),u=r(862054),a=r(476565),s=r(431540),f=r(510611),l=r(884102);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=c(o),d=c(n),h=c(i),g=c(u),m=c(a);function y(e,t,r){if(r=r||{},!l.isObject(r))throw new Error("options is invalid");var o=r.pivot,n=r.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(o||(o=p.default(e)),!1!==n&&void 0!==n||(e=m.default(e)),s.coordEach(e,(function(e){var r=d.default(o,e)+t,n=h.default(o,e),i=f.getCoords(g.default(o,n,r));e[0]=i[0],e[1]=i[1]}))),e}e.exports=y,e.exports.default=y},467517:(e,t,r)=>{var o=r(476565),n=r(878230),i=r(866338),u=r(709705),a=r(762054),s=r(606213),f=r(862054),l=r(431540),c=r(884102),p=r(510611);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=d(o),g=d(n),m=d(i),y=d(u),v=d(a),b=d(s),w=d(f);function E(e,t,r){if(r=r||{},!c.isObject(r))throw new Error("options is invalid");var o=r.origin,n=r.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var i=Array.isArray(o)||"object"==typeof o;return!0!==n&&(e=h.default(e)),"FeatureCollection"!==e.type||i?P(e,t,o):(l.featureEach(e,(function(r,n){e.features[n]=P(r,t,o)})),e)}function P(e,t,r){var o="Point"===p.getType(e);return r=function(e,t){if(null==t&&(t="centroid"),Array.isArray(t)||"object"==typeof t)return p.getCoord(t);var r=e.bbox?e.bbox:y.default(e),o=r[0],n=r[1],i=r[2],u=r[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return c.point([o,n]);case"se":case"southeast":case"eastsouth":case"bottomright":return c.point([i,n]);case"nw":case"northwest":case"westnorth":case"topleft":return c.point([o,u]);case"ne":case"northeast":case"eastnorth":case"topright":return c.point([i,u]);case"center":return g.default(e);case void 0:case null:case"centroid":return m.default(e);default:throw new Error("invalid origin")}}(e,r),1===t||o||l.coordEach(e,(function(e){var o=b.default(r,e),n=v.default(r,e),i=o*t,u=p.getCoords(w.default(r,i,n));e[0]=u[0],e[1]=u[1],3===e.length&&(e[2]*=t)})),e}e.exports=E,e.exports.default=E},392418:(e,t,r)=>{var o=r(431540),n=r(884102),i=r(510611),u=r(476565),a=r(862054);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=s(u),l=s(a);function c(e,t,r,u){if(u=u||{},!n.isObject(u))throw new Error("options is invalid");var a=u.units,s=u.zTranslation,c=u.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(s&&"number"!=typeof s&&isNaN(s))throw new Error("zTranslation is not a number");if(s=void 0!==s?s:0,0===t&&0===s)return e;if(null==r||isNaN(r))throw new Error("direction is required");return t<0&&(t=-t,r+=180),!1!==c&&void 0!==c||(e=f.default(e)),o.coordEach(e,(function(e){var o=i.getCoords(l.default(e,t,r,{units:a}));e[0]=o[0],e[1]=o[1],s&&3===e.length&&(e[2]+=s)})),e}e.exports=c,e.exports.default=c},704686:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(431013)),i=o(r(774170)),u=r(884102);t.default=function(e,t,r){void 0===r&&(r={});for(var o=[],a=t/n.default([e[0],e[1]],[e[2],e[1]],r)*(e[2]-e[0]),s=t/n.default([e[0],e[1]],[e[0],e[3]],r)*(e[3]-e[1]),f=0,l=e[0];l<=e[2];){for(var c=0,p=e[1];p<=e[3];){var d=null,h=null;f%2==0&&c%2==0?(d=u.polygon([[[l,p],[l,p+s],[l+a,p],[l,p]]],r.properties),h=u.polygon([[[l,p+s],[l+a,p+s],[l+a,p],[l,p+s]]],r.properties)):f%2==0&&c%2==1?(d=u.polygon([[[l,p],[l+a,p+s],[l+a,p],[l,p]]],r.properties),h=u.polygon([[[l,p],[l,p+s],[l+a,p+s],[l,p]]],r.properties)):c%2==0&&f%2==1?(d=u.polygon([[[l,p],[l,p+s],[l+a,p+s],[l,p]]],r.properties),h=u.polygon([[[l,p],[l+a,p+s],[l+a,p],[l,p]]],r.properties)):c%2==1&&f%2==1&&(d=u.polygon([[[l,p],[l,p+s],[l+a,p],[l,p]]],r.properties),h=u.polygon([[[l,p+s],[l+a,p+s],[l+a,p],[l,p+s]]],r.properties)),r.mask?(i.default(r.mask,d)&&o.push(d),i.default(r.mask,h)&&o.push(h)):(o.push(d),o.push(h)),p+=s,c++}f++,l+=a}return u.featureCollection(o)}},215608:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(431540);t.default=function(e,t){void 0===t&&(t={});var r=t.precision,n=t.coordinates,i=t.mutate;if(r=null==r||isNaN(r)?6:r,n=null==n||isNaN(n)?3:n,!e)throw new Error("<geojson> is required");if("number"!=typeof r)throw new Error("<precision> must be a number");if("number"!=typeof n)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var u=Math.pow(10,r);return o.coordEach(e,(function(e){!function(e,t,r){e.length>r&&e.splice(r,e.length);for(var o=0;o<e.length;o++)e[o]=Math.round(e[o]*t)/t}(e,u,n)})),e}},38347:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=r(7928),n=r(777382),i=r(400187),u=r(468538),a=r(770305),s=r(37970),f=r(57191),l=r(597478),c=r(532015),p=r(703503),d=r(619062),h=r(655077),g=r(490265),m=r(399034),y=r(878230),v=r(625084),b=r(866338),w=r(928141),E=r(431013),P=r(63922),M=r(709705),x=r(795845),O=r(913652),j=r(888147),_=r(866379),C=r(713807),S=r(982059),k=r(63377),L=r(218829),N=r(151208),q=r(693737),I=r(281641),F=r(255771),A=r(141070),D=r(325913),T=r(710091),R=r(974792),G=r(551378),z=r(736813),Z=r(215608),J=r(824288),B=r(373663),W=r(939632),U=r(294404),V=r(425422),H=r(854590),K=r(907477),Q=r(367272),X=r(997383),$=r(641933),Y=r(130173),ee=r(990273),te=r(481674),re=r(762054),oe=r(606213),ne=r(862054),ie=r(205215),ue=r(851138),ae=r(777406),se=r(290067),fe=r(467517),le=r(392418),ce=r(715668),pe=r(724312),de=r(255883),he=r(172584),ge=r(317656),me=r(603809),ye=r(857612),ve=r(472793),be=r(839482),we=r(45184),Ee=r(784255),Pe=r(476565),Me=r(871435),xe=r(561495),Oe=r(656398),je=r(263892),_e=r(424840),Ce=r(585697),Se=r(862276),ke=r(261211),Le=r(876320),Ne=r(812935),qe=r(973955),Ie=r(408517),Fe=r(184978),Ae=r(710920),De=r(535366),Te=r(820981),Re=r(516295),Ge=r(153140),ze=r(884102),Ze=r(510611),Je=r(431540),Be=r(268727),We=r(135419),Ue=r(871959),Ve=r(774170),He=r(52407),Ke=r(345621),Qe=r(860482),Xe=r(845434),$e=r(704686),Ye=r(25566);function et(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function tt(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var rt=et(o),ot=et(n),nt=et(i),it=et(u),ut=et(a),at=et(s),st=et(f),ft=et(l),lt=et(c),ct=et(p),pt=et(d),dt=et(h),ht=et(g),gt=et(m),mt=et(y),yt=et(v),vt=et(b),bt=et(w),wt=et(E),Et=et(P),Pt=et(M),Mt=et(x),xt=et(O),Ot=et(j),jt=et(_),_t=et(C),Ct=et(S),St=et(k),kt=et(L),Lt=et(N),Nt=et(q),qt=et(I),It=et(F),Ft=et(A),At=et(D),Dt=et(T),Tt=et(R),Rt=et(G),Gt=et(z),zt=et(Z),Zt=et(J),Jt=et(B),Bt=et(W),Wt=et(U),Ut=et(V),Vt=et(H),Ht=et(K),Kt=et(Q),Qt=et(X),Xt=et($),$t=et(Y),Yt=et(ee),er=et(te),tr=et(re),rr=et(oe),or=et(ne),nr=et(ie),ir=et(ue),ur=et(ae),ar=et(se),sr=et(fe),fr=et(le),lr=et(ce),cr=et(pe),pr=et(de),dr=et(he),hr=et(ge),gr=et(me),mr=et(ye),yr=et(ve),vr=et(be),br=et(we),wr=et(Ee),Er=et(Pe),Pr=et(Me),Mr=et(xe),xr=et(Oe),Or=et(je),jr=et(_e),_r=et(Ce),Cr=et(Se),Sr=et(ke),kr=et(Le),Lr=et(Ne),Nr=et(qe),qr=et(Ie),Ir=et(Fe),Fr=et(Ae),Ar=et(De),Dr=tt(Te),Tr=tt(Re),Rr=tt(Ge),Gr=tt(ze),zr=tt(Ze),Zr=tt(Je),Jr=et(Be),Br=et(We),Wr=et(Ue),Ur=et(Ve),Vr=et(He),Hr=et(Ke),Kr=et(Qe),Qr=et(Xe),Xr=et($e),$r=et(Ye);Object.keys(Te).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Te[e]}})})),Object.keys(Re).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Re[e]}})})),Object.keys(Ge).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ge[e]}})})),Object.keys(ze).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return ze[e]}})})),Object.keys(Ze).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ze[e]}})})),Object.keys(Je).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Je[e]}})})),Object.defineProperty(t,"isolines",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(t,"convex",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"pointsWithinPolygon",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(t,"within",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(t,"concave",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(t,"collect",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(t,"flip",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(t,"simplify",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(t,"bezier",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(t,"bezierSpline",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(t,"tag",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(t,"envelope",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(t,"square",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(t,"circle",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(t,"midpoint",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(t,"center",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(t,"centerOfMass",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(t,"centroid",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(t,"combine",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(t,"distance",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(t,"explode",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(t,"bbox",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(t,"tesselate",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(t,"bboxPolygon",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(t,"booleanPointInPolygon",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(t,"inside",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(t,"nearest",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(t,"nearestPoint",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(t,"nearestPointOnLine",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(t,"pointOnLine",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(t,"nearestPointToLine",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(t,"planepoint",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(t,"tin",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"bearing",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(t,"destination",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(t,"kinks",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(t,"pointOnFeature",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(t,"pointOnSurface",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(t,"area",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(t,"along",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"lineDistance",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"lineSlice",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(t,"lineSliceAlong",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(t,"pointGrid",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(t,"truncate",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(t,"lineIntersect",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(t,"lineChunk",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(t,"unkinkPolygon",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(t,"greatCircle",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(t,"lineSegment",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(t,"lineSplit",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(t,"lineArc",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"polygonToLine",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(t,"polygonToLineString",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(t,"lineStringToPolygon",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(t,"lineToPolygon",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(t,"bboxClip",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(t,"lineOverlap",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(t,"sector",{enumerable:!0,get:function(){return er.default}}),Object.defineProperty(t,"rhumbBearing",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(t,"rhumbDistance",{enumerable:!0,get:function(){return rr.default}}),Object.defineProperty(t,"rhumbDestination",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(t,"polygonTangents",{enumerable:!0,get:function(){return nr.default}}),Object.defineProperty(t,"rewind",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(t,"isobands",{enumerable:!0,get:function(){return ur.default}}),Object.defineProperty(t,"transformRotate",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(t,"transformScale",{enumerable:!0,get:function(){return sr.default}}),Object.defineProperty(t,"transformTranslate",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(t,"lineOffset",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(t,"polygonize",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(t,"booleanDisjoint",{enumerable:!0,get:function(){return pr.default}}),Object.defineProperty(t,"booleanContains",{enumerable:!0,get:function(){return dr.default}}),Object.defineProperty(t,"booleanCrosses",{enumerable:!0,get:function(){return hr.default}}),Object.defineProperty(t,"booleanClockwise",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(t,"booleanOverlap",{enumerable:!0,get:function(){return mr.default}}),Object.defineProperty(t,"booleanPointOnLine",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(t,"booleanEqual",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(t,"booleanWithin",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(t,"booleanIntersects",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return Er.default}}),Object.defineProperty(t,"cleanCoords",{enumerable:!0,get:function(){return Pr.default}}),Object.defineProperty(t,"clustersDbscan",{enumerable:!0,get:function(){return Mr.default}}),Object.defineProperty(t,"clustersKmeans",{enumerable:!0,get:function(){return xr.default}}),Object.defineProperty(t,"pointToLineDistance",{enumerable:!0,get:function(){return Or.default}}),Object.defineProperty(t,"booleanParallel",{enumerable:!0,get:function(){return jr.default}}),Object.defineProperty(t,"shortestPath",{enumerable:!0,get:function(){return _r.default}}),Object.defineProperty(t,"voronoi",{enumerable:!0,get:function(){return Cr.default}}),Object.defineProperty(t,"ellipse",{enumerable:!0,get:function(){return Sr.default}}),Object.defineProperty(t,"centerMean",{enumerable:!0,get:function(){return kr.default}}),Object.defineProperty(t,"centerMedian",{enumerable:!0,get:function(){return Lr.default}}),Object.defineProperty(t,"standardDeviationalEllipse",{enumerable:!0,get:function(){return Nr.default}}),Object.defineProperty(t,"angle",{enumerable:!0,get:function(){return qr.default}}),Object.defineProperty(t,"polygonSmooth",{enumerable:!0,get:function(){return Ir.default}}),Object.defineProperty(t,"moranIndex",{enumerable:!0,get:function(){return Fr.default}}),Object.defineProperty(t,"distanceWeight",{enumerable:!0,get:function(){return Ar.default}}),t.projection=Dr,t.random=Tr,t.clusters=Rr,Object.defineProperty(t,"bearingToAngle",{enumerable:!0,get:function(){return ze.bearingToAzimuth}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return ze.convertLength}}),Object.defineProperty(t,"degrees2radians",{enumerable:!0,get:function(){return ze.degreesToRadians}}),Object.defineProperty(t,"distanceToDegrees",{enumerable:!0,get:function(){return ze.lengthToDegrees}}),Object.defineProperty(t,"distanceToRadians",{enumerable:!0,get:function(){return ze.lengthToRadians}}),t.helpers=Gr,Object.defineProperty(t,"radians2degrees",{enumerable:!0,get:function(){return ze.radiansToDegrees}}),Object.defineProperty(t,"radiansToDistance",{enumerable:!0,get:function(){return ze.radiansToLength}}),t.invariant=zr,t.meta=Zr,Object.defineProperty(t,"difference",{enumerable:!0,get:function(){return Jr.default}}),Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return Br.default}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return Wr.default}}),Object.defineProperty(t,"intersect",{enumerable:!0,get:function(){return Ur.default}}),Object.defineProperty(t,"dissolve",{enumerable:!0,get:function(){return Vr.default}}),Object.defineProperty(t,"hexGrid",{enumerable:!0,get:function(){return Hr.default}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return Kr.default}}),Object.defineProperty(t,"squareGrid",{enumerable:!0,get:function(){return Qr.default}}),Object.defineProperty(t,"triangleGrid",{enumerable:!0,get:function(){return Xr.default}}),Object.defineProperty(t,"interpolate",{enumerable:!0,get:function(){return $r.default}})},701449:(e,t,r)=>{r.d(t,{DL:()=>p,Ht:()=>g,Kn:()=>v,Tu:()=>s,lF:()=>d,ot:()=>l,rQ:()=>o,tw:()=>c,uf:()=>f,vi:()=>h,vs:()=>m,xm:()=>u,yu:()=>a,zL:()=>i});var o=6371008.8,n={centimeters:100*o,centimetres:100*o,degrees:o/111325,feet:3.28084*o,inches:39.37*o,kilometers:o/1e3,kilometres:o/1e3,meters:o,metres:o,miles:o/1609.344,millimeters:1e3*o,millimetres:1e3*o,nauticalmiles:o/1852,radians:1,yards:1.0936*o};function i(e,t,r){void 0===r&&(r={});var o={type:"Feature"};return(0===r.id||r.id)&&(o.id=r.id),r.bbox&&(o.bbox=r.bbox),o.properties=t||{},o.geometry=e,o}function u(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!y(e[0])||!y(e[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:e},t,r)}function a(e,t,r){void 0===r&&(r={});for(var o=0,n=e;o<n.length;o++){var u=n[o];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<u[u.length-1].length;a++)if(u[u.length-1][a]!==u[0][a])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:e},t,r)}function s(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:e},t,r)}function f(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function l(e,t,r){return void 0===r&&(r={}),i({type:"MultiPoint",coordinates:e},t,r)}function c(e,t,r){return void 0===r&&(r={}),i({type:"MultiPolygon",coordinates:e},t,r)}function p(e,t){void 0===t&&(t="kilometers");var r=n[t];if(!r)throw new Error(t+" units is invalid");return e*r}function d(e,t){void 0===t&&(t="kilometers");var r=n[t];if(!r)throw new Error(t+" units is invalid");return e/r}function h(e){return e%(2*Math.PI)*180/Math.PI}function g(e){return e%360*Math.PI/180}function m(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return p(d(e,t),r)}function y(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function v(e){return!!e&&e.constructor===Object}},936987:(e,t,r)=>{function o(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function n(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function i(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function u(e){return"Feature"===e.type?e.geometry:e}r.d(t,{c9:()=>o,nK:()=>i,r7:()=>n,wA:()=>u}),r(701449)},962585:(e,t,r)=>{r.d(t,{Z:()=>f});var o=r(701449),n=r(936987),i=r(855271),u=r(739034),a=r(351787);function s(e,t){var r=(0,n.r7)(e),i=(0,n.r7)(t);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var u=r[0][0],a=r[0][1],s=r[1][0],f=r[1][1],l=i[0][0],c=i[0][1],p=i[1][0],d=i[1][1],h=(d-c)*(s-u)-(p-l)*(f-a);if(0===h)return null;var g=((p-l)*(a-c)-(d-c)*(u-l))/h,m=((s-u)*(a-c)-(f-a)*(u-l))/h;if(g>=0&&g<=1&&m>=0&&m<=1){var y=u+g*(s-u),v=a+g*(f-a);return(0,o.xm)([y,v])}return null}const f=function(e,t){var r={},f=[];if("LineString"===e.type&&(e=(0,o.zL)(e)),"LineString"===t.type&&(t=(0,o.zL)(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var l=s(e,t);return l&&f.push(l),(0,o.uf)(f)}var c=a();return c.load((0,i.Z)(t)),(0,u.By)((0,i.Z)(e),(function(e){(0,u.By)(c.search(e),(function(t){var o=s(e,t);if(o){var i=(0,n.r7)(o).join(",");r[i]||(r[i]=!0,f.push(o))}}))})),(0,o.uf)(f)}},788212:(e,t,r)=>{r.d(t,{Z:()=>p});var o=r(351787),n=r(855271),i=r(473701),u=r(186237),a=r(936987),s=r(739034),f=r(701449),l=r(110251);function c(e,t){var r=(0,a.r7)(t),o=(0,a.r7)(e),n=o[0],i=o[o.length-1],u=e.geometry.coordinates;return l(r[0],n)?u.unshift(r[1]):l(r[0],i)?u.push(r[1]):l(r[1],n)?u.unshift(r[0]):l(r[1],i)&&u.push(r[0]),e}const p=function(e,t,r){if(void 0===r&&(r={}),r=r||{},!(0,f.Kn)(r))throw new Error("options is invalid");var p,d=r.tolerance||0,h=[],g=o(),m=(0,n.Z)(e);return g.load(m),(0,s.Vf)(t,(function(e){var t=!1;e&&((0,s.By)(g.search(e),(function(r){if(!1===t){var o=(0,a.r7)(e).sort(),n=(0,a.r7)(r).sort();l(o,n)||(0===d?(0,u.Z)(o[0],r)&&(0,u.Z)(o[1],r):(0,i.Z)(r,o[0]).properties.dist<=d&&(0,i.Z)(r,o[1]).properties.dist<=d)?(t=!0,p=p?c(p,e):e):(0===d?(0,u.Z)(n[0],e)&&(0,u.Z)(n[1],e):(0,i.Z)(e,n[0]).properties.dist<=d&&(0,i.Z)(e,n[1]).properties.dist<=d)&&(p=p?c(p,r):r)}})),!1===t&&p&&(h.push(p),p=void 0))})),p&&h.push(p),(0,f.uf)(h)}},855271:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(701449),n=r(936987),i=r(739034);const u=function(e){if(!e)throw new Error("geojson is required");var t=[];return(0,i.nG)(e,(function(e){!function(e,t){var r=[],i=e.geometry;if(null!==i){switch(i.type){case"Polygon":r=(0,n.r7)(i);break;case"LineString":r=[(0,n.r7)(i)]}r.forEach((function(r){var n=function(e,t){var r=[];return e.reduce((function(e,n){var i,u,a,s,f,l,c=(0,o.Tu)([e,n],t);return c.bbox=(u=n,a=(i=e)[0],s=i[1],[a<(f=u[0])?a:f,s<(l=u[1])?s:l,a>f?a:f,s>l?s:l]),r.push(c),n})),r}(r,e.properties);n.forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),(0,o.uf)(t)}},739034:(e,t,r)=>{r.d(t,{By:()=>u,Lo:()=>i,Vf:()=>l,mm:()=>s,nG:()=>f,on:()=>a,pZ:()=>n});var o=r(701449);function n(e,t,r){if(null!==e)for(var o,i,u,a,s,f,l,c,p=0,d=0,h=e.type,g="FeatureCollection"===h,m="Feature"===h,y=g?e.features.length:1,v=0;v<y;v++){s=(c=!!(l=g?e.features[v].geometry:m?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var b=0;b<s;b++){var w=0,E=0;if(null!==(a=c?l.geometries[b]:l)){f=a.coordinates;var P=a.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(f,d,v,w,E))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(o=0;o<f.length;o++){if(!1===t(f[o],d,v,w,E))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(o=0;o<f.length;o++){for(i=0;i<f[o].length-p;i++){if(!1===t(f[o][i],d,v,w,E))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&E++}"Polygon"===P&&w++;break;case"MultiPolygon":for(o=0;o<f.length;o++){for(E=0,i=0;i<f[o].length;i++){for(u=0;u<f[o][i].length-p;u++){if(!1===t(f[o][i][u],d,v,w,E))return!1;d++}E++}w++}break;case"GeometryCollection":for(o=0;o<a.geometries.length;o++)if(!1===n(a.geometries[o],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t,r,o){var i=r;return n(e,(function(e,o,n,u,a){i=0===o&&void 0===r?e:t(i,e,o,n,u,a)}),o),i}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function a(e,t){var r,o,n,i,u,a,s,f,l,c,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(a=d?e.features[r].geometry:h?e.geometry:e,f=d?e.features[r].properties:h?e.properties:{},l=d?e.features[r].bbox:h?e.bbox:void 0,c=d?e.features[r].id:h?e.id:void 0,u=(s=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,n=0;n<u;n++)if(null!==(i=s?a.geometries[n]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,f,l,c))return!1;break;case"GeometryCollection":for(o=0;o<i.geometries.length;o++)if(!1===t(i.geometries[o],p,f,l,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,f,l,c))return!1;p++}}function s(e,t,r){var o=r;return a(e,(function(e,n,i,u,a){o=0===n&&void 0===r?e:t(o,e,n,i,u,a)})),o}function f(e,t){a(e,(function(e,r,n,i,u){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t((0,o.zL)(e,n,{bbox:i,id:u}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var f=0;f<e.coordinates.length;f++){var l={type:a,coordinates:e.coordinates[f]};if(!1===t((0,o.zL)(l,n),r,f))return!1}}))}function l(e,t){f(e,(function(e,r,i){var u=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var s,f=0,l=0,c=0;return!1!==n(e,(function(n,a,p,d,h){if(void 0===s||r>f||d>l||h>c)return s=n,f=r,l=d,c=h,void(u=0);var g=(0,o.Tu)([s,n],e.properties);if(!1===t(g,r,i,h,u))return!1;u++,s=n}))&&void 0}}}))}},473701:(e,t,r)=>{r.d(t,{Z:()=>l});var o=r(587189),n=r(492964),i=r(512148),u=r(962585),a=r(739034),s=r(701449),f=r(936987);const l=function(e,t,r){void 0===r&&(r={});var l=(0,s.xm)([1/0,1/0],{dist:1/0}),c=0;return(0,a.nG)(e,(function(e){for(var a=(0,f.r7)(e),p=0;p<a.length-1;p++){var d=(0,s.xm)(a[p]);d.properties.dist=(0,n.Z)(t,d,r);var h=(0,s.xm)(a[p+1]);h.properties.dist=(0,n.Z)(t,h,r);var g=(0,n.Z)(d,h,r),m=Math.max(d.properties.dist,h.properties.dist),y=(0,o.Z)(d,h),v=(0,i.Z)(t,m,y+90,r),b=(0,i.Z)(t,m,y-90,r),w=(0,u.Z)((0,s.Tu)([v.geometry.coordinates,b.geometry.coordinates]),(0,s.Tu)([d.geometry.coordinates,h.geometry.coordinates])),E=null;w.features.length>0&&((E=w.features[0]).properties.dist=(0,n.Z)(t,E,r),E.properties.location=c+(0,n.Z)(d,E,r)),d.properties.dist<l.properties.dist&&((l=d).properties.index=p,l.properties.location=c),h.properties.dist<l.properties.dist&&((l=h).properties.index=p+1,l.properties.location=c+g),E&&E.properties.dist<l.properties.dist&&((l=E).properties.index=p),c+=g}})),l}},939428:(e,t,r)=>{r(701449),r(936987)},631025:(e,t,r)=>{r(701449),r(936987)},626566:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(701449),n=r(936987);const i=function(e,t,r,i){void 0===i&&(i={});var u=t<0,a=(0,o.vs)(Math.abs(t),i.units,"meters");u&&(a=-Math.abs(a));var s=(0,n.c9)(e),f=function(e,t,r,n){var i=t/(n=void 0===n?o.rQ:Number(n)),u=e[0]*Math.PI/180,a=(0,o.Ht)(e[1]),s=(0,o.Ht)(r),f=i*Math.cos(s),l=a+f;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),p=Math.abs(c)>1e-11?f/c:Math.cos(a);return[(180*(u+i*Math.sin(s)/p)/Math.PI+540)%360-180,180*l/Math.PI]}(s,a,r);return f[0]+=f[0]-s[0]>180?-360:s[0]-f[0]>180?360:0,(0,o.xm)(f,i.properties)}},685290:(e,t,r)=>{r(701449),r(936987)},16066:(e,t,r)=>{r(701449)},385294:(e,t,r)=>{r(144369),r(631025),r(685290),r(626566),r(739034),r(936987),r(701449)},165663:(e,t,r)=>{r.d(t,{SOn:()=>c.Z,VWR:()=>o.Z,lxR:()=>ae.Z,FWy:()=>a.Z,f3b:()=>de.Z,beQ:()=>l.Z,TE$:()=>f.Z,wfr:()=>me,xmu:()=>u.xm,_Xj:()=>te,G0j:()=>he.Z});var o=r(362096),n=r(739034),i=r(936987),u=r(701449);r(727418),r(836952);var a=r(582037);r(741172),r(55314),r(376402),r(851062),r(194875);var s=r(778445),f=r(492964);r(393395),r(587189),r(512148);var l=r(181012);r(632798),r(144369),r(369169),r(711821),r(509187),r(100095),r(473701),r(685290),r(16066);var c=r(383677);r(982861),r(63986),r(263938),r(962585),r(511483),r(698772),r(855271),r(351787),r(939428),r(939575),r(788212),r(631025);var p=r(626566);r(377944);var d=[],h=[],g=[],m=[],y=[],v=[],b=[],w=[],E=[],P=[],M=[],x=[],O=[],j=[],_=[],C=[],S=[],k=[],L=[],N=[],q=[],I=[],F=[],A=[];b[85]=P[85]=-1,w[85]=M[85]=0,E[85]=x[85]=1,L[85]=I[85]=1,N[85]=F[85]=0,q[85]=A[85]=1,d[85]=m[85]=0,h[85]=y[85]=-1,g[85]=_[85]=0,C[85]=O[85]=0,S[85]=j[85]=1,v[85]=k[85]=1,I[1]=I[169]=0,F[1]=F[169]=-1,A[1]=A[169]=0,O[1]=O[169]=-1,j[1]=j[169]=0,_[1]=_[169]=0,P[4]=P[166]=0,M[4]=M[166]=-1,x[4]=x[166]=1,C[4]=C[166]=1,S[4]=S[166]=0,k[4]=k[166]=0,b[16]=b[154]=0,w[16]=w[154]=1,E[16]=E[154]=1,m[16]=m[154]=1,y[16]=y[154]=0,v[16]=v[154]=1,L[64]=L[106]=0,N[64]=N[106]=1,q[64]=q[106]=0,d[64]=d[106]=-1,h[64]=h[106]=0,g[64]=g[106]=1,L[2]=L[168]=0,N[2]=N[168]=-1,q[2]=q[168]=1,I[2]=I[168]=0,F[2]=F[168]=-1,A[2]=A[168]=0,O[2]=O[168]=-1,j[2]=j[168]=0,_[2]=_[168]=0,C[2]=C[168]=-1,S[2]=S[168]=0,k[2]=k[168]=1,b[8]=b[162]=0,w[8]=w[162]=-1,E[8]=E[162]=0,P[8]=P[162]=0,M[8]=M[162]=-1,x[8]=x[162]=1,O[8]=O[162]=1,j[8]=j[162]=0,_[8]=_[162]=1,C[8]=C[162]=1,S[8]=S[162]=0,k[8]=k[162]=0,b[32]=b[138]=0,w[32]=w[138]=1,E[32]=E[138]=1,P[32]=P[138]=0,M[32]=M[138]=1,x[32]=x[138]=0,d[32]=d[138]=1,h[32]=h[138]=0,g[32]=g[138]=0,m[32]=m[138]=1,y[32]=y[138]=0,v[32]=v[138]=1,I[128]=I[42]=0,F[128]=F[42]=1,A[128]=A[42]=1,L[128]=L[42]=0,N[128]=N[42]=1,q[128]=q[42]=0,d[128]=d[42]=-1,h[128]=h[42]=0,g[128]=g[42]=1,m[128]=m[42]=-1,y[128]=y[42]=0,v[128]=v[42]=0,P[5]=P[165]=-1,M[5]=M[165]=0,x[5]=x[165]=0,I[5]=I[165]=1,F[5]=F[165]=0,A[5]=A[165]=0,C[20]=C[150]=0,S[20]=S[150]=1,k[20]=k[150]=1,m[20]=m[150]=0,y[20]=y[150]=-1,v[20]=v[150]=1,b[80]=b[90]=-1,w[80]=w[90]=0,E[80]=E[90]=1,L[80]=L[90]=1,N[80]=N[90]=0,q[80]=q[90]=1,O[65]=O[105]=0,j[65]=j[105]=1,_[65]=_[105]=0,d[65]=d[105]=0,h[65]=h[105]=-1,g[65]=g[105]=0,b[160]=b[10]=-1,w[160]=w[10]=0,E[160]=E[10]=1,P[160]=P[10]=-1,M[160]=M[10]=0,x[160]=x[10]=0,I[160]=I[10]=1,F[160]=F[10]=0,A[160]=A[10]=0,L[160]=L[10]=1,N[160]=N[10]=0,q[160]=q[10]=1,C[130]=C[40]=0,S[130]=S[40]=1,k[130]=k[40]=1,O[130]=O[40]=0,j[130]=j[40]=1,_[130]=_[40]=0,d[130]=d[40]=0,h[130]=h[40]=-1,g[130]=g[40]=0,m[130]=m[40]=0,y[130]=y[40]=-1,v[130]=v[40]=1,P[37]=P[133]=0,M[37]=M[133]=1,x[37]=x[133]=1,I[37]=I[133]=0,F[37]=F[133]=1,A[37]=A[133]=0,d[37]=d[133]=-1,h[37]=h[133]=0,g[37]=g[133]=0,m[37]=m[133]=1,y[37]=y[133]=0,v[37]=v[133]=0,C[148]=C[22]=-1,S[148]=S[22]=0,k[148]=k[22]=0,I[148]=I[22]=0,F[148]=F[22]=-1,A[148]=A[22]=1,L[148]=L[22]=0,N[148]=N[22]=1,q[148]=q[22]=1,m[148]=m[22]=-1,y[148]=y[22]=0,v[148]=v[22]=1,b[82]=b[88]=0,w[82]=w[88]=-1,E[82]=E[88]=1,C[82]=C[88]=1,S[82]=S[88]=0,k[82]=k[88]=1,O[82]=O[88]=-1,j[82]=j[88]=0,_[82]=_[88]=1,L[82]=L[88]=0,N[82]=N[88]=-1,q[82]=q[88]=0,b[73]=b[97]=0,w[73]=w[97]=1,E[73]=E[97]=0,P[73]=P[97]=0,M[73]=M[97]=-1,x[73]=x[97]=0,O[73]=O[97]=1,j[73]=j[97]=0,_[73]=_[97]=0,d[73]=d[97]=1,h[73]=h[97]=0,g[73]=g[97]=1,b[145]=b[25]=0,w[145]=w[25]=-1,E[145]=E[25]=0,O[145]=O[25]=1,j[145]=j[25]=0,_[145]=_[25]=1,I[145]=I[25]=0,F[145]=F[25]=1,A[145]=A[25]=1,m[145]=m[25]=-1,y[145]=y[25]=0,v[145]=v[25]=0,P[70]=P[100]=0,M[70]=M[100]=1,x[70]=x[100]=0,C[70]=C[100]=-1,S[70]=S[100]=0,k[70]=k[100]=1,L[70]=L[100]=0,N[70]=N[100]=-1,q[70]=q[100]=1,d[70]=d[100]=1,h[70]=h[100]=0,g[70]=g[100]=0,P[101]=P[69]=0,M[101]=M[69]=1,x[101]=x[69]=0,d[101]=d[69]=1,h[101]=h[69]=0,g[101]=g[69]=0,I[149]=I[21]=0,F[149]=F[21]=1,A[149]=A[21]=1,m[149]=m[21]=-1,y[149]=y[21]=0,v[149]=v[21]=0,C[86]=C[84]=-1,S[86]=S[84]=0,k[86]=k[84]=1,L[86]=L[84]=0,N[86]=N[84]=-1,q[86]=q[84]=1,b[89]=b[81]=0,w[89]=w[81]=-1,E[89]=E[81]=0,O[89]=O[81]=1,j[89]=j[81]=0,_[89]=_[81]=1,b[96]=b[74]=0,w[96]=w[74]=1,E[96]=E[74]=0,P[96]=P[74]=-1,M[96]=M[74]=0,x[96]=x[74]=1,L[96]=L[74]=1,N[96]=N[74]=0,q[96]=q[74]=0,d[96]=d[74]=1,h[96]=h[74]=0,g[96]=g[74]=1,b[24]=b[146]=0,w[24]=w[146]=-1,E[24]=E[146]=1,C[24]=C[146]=1,S[24]=S[146]=0,k[24]=k[146]=1,O[24]=O[146]=0,j[24]=j[146]=1,_[24]=_[146]=1,m[24]=m[146]=0,y[24]=y[146]=-1,v[24]=v[146]=0,P[6]=P[164]=-1,M[6]=M[164]=0,x[6]=x[164]=1,C[6]=C[164]=-1,S[6]=S[164]=0,k[6]=k[164]=0,I[6]=I[164]=0,F[6]=F[164]=-1,A[6]=A[164]=1,L[6]=L[164]=1,N[6]=N[164]=0,q[6]=q[164]=0,O[129]=O[41]=0,j[129]=j[41]=1,_[129]=_[41]=1,I[129]=I[41]=0,F[129]=F[41]=1,A[129]=A[41]=0,d[129]=d[41]=-1,h[129]=h[41]=0,g[129]=g[41]=0,m[129]=m[41]=0,y[129]=y[41]=-1,v[129]=v[41]=0,C[66]=C[104]=0,S[66]=S[104]=1,k[66]=k[104]=0,O[66]=O[104]=-1,j[66]=j[104]=0,_[66]=_[104]=1,L[66]=L[104]=0,N[66]=N[104]=-1,q[66]=q[104]=0,d[66]=d[104]=0,h[66]=h[104]=-1,g[66]=g[104]=1,b[144]=b[26]=-1,w[144]=w[26]=0,E[144]=E[26]=0,I[144]=I[26]=1,F[144]=F[26]=0,A[144]=A[26]=1,L[144]=L[26]=0,N[144]=N[26]=1,q[144]=q[26]=1,m[144]=m[26]=-1,y[144]=y[26]=0,v[144]=v[26]=1,P[36]=P[134]=0,M[36]=M[134]=1,x[36]=x[134]=1,C[36]=C[134]=0,S[36]=S[134]=1,k[36]=k[134]=0,d[36]=d[134]=0,h[36]=h[134]=-1,g[36]=g[134]=1,m[36]=m[134]=1,y[36]=y[134]=0,v[36]=v[134]=0,b[9]=b[161]=-1,w[9]=w[161]=0,E[9]=E[161]=0,P[9]=P[161]=0,M[9]=M[161]=-1,x[9]=x[161]=0,O[9]=O[161]=1,j[9]=j[161]=0,_[9]=_[161]=0,I[9]=I[161]=1,F[9]=F[161]=0,A[9]=A[161]=1,b[136]=0,w[136]=1,E[136]=1,P[136]=0,M[136]=1,x[136]=0,C[136]=-1,S[136]=0,k[136]=1,O[136]=-1,j[136]=0,_[136]=0,I[136]=0,F[136]=-1,A[136]=0,L[136]=0,N[136]=-1,q[136]=1,d[136]=1,h[136]=0,g[136]=0,m[136]=1,y[136]=0,v[136]=1,b[34]=0,w[34]=-1,E[34]=0,P[34]=0,M[34]=-1,x[34]=1,C[34]=1,S[34]=0,k[34]=0,O[34]=1,j[34]=0,_[34]=1,I[34]=0,F[34]=1,A[34]=1,L[34]=0,N[34]=1,q[34]=0,d[34]=-1,h[34]=0,g[34]=1,m[34]=-1,y[34]=0,v[34]=0,b[35]=0,w[35]=1,E[35]=1,P[35]=0,M[35]=-1,x[35]=1,C[35]=1,S[35]=0,k[35]=0,O[35]=-1,j[35]=0,_[35]=0,I[35]=0,F[35]=-1,A[35]=0,L[35]=0,N[35]=1,q[35]=0,d[35]=-1,h[35]=0,g[35]=1,m[35]=1,y[35]=0,v[35]=1,b[153]=0,w[153]=1,E[153]=1,O[153]=-1,j[153]=0,_[153]=0,I[153]=0,F[153]=-1,A[153]=0,m[153]=1,y[153]=0,v[153]=1,P[102]=0,M[102]=-1,x[102]=1,C[102]=1,S[102]=0,k[102]=0,L[102]=0,N[102]=1,q[102]=0,d[102]=-1,h[102]=0,g[102]=1,b[155]=0,w[155]=-1,E[155]=0,O[155]=1,j[155]=0,_[155]=1,I[155]=0,F[155]=1,A[155]=1,m[155]=-1,y[155]=0,v[155]=0,P[103]=0,M[103]=1,x[103]=0,C[103]=-1,S[103]=0,k[103]=1,L[103]=0,N[103]=-1,q[103]=1,d[103]=1,h[103]=0,g[103]=0,b[152]=0,w[152]=1,E[152]=1,C[152]=-1,S[152]=0,k[152]=1,O[152]=-1,j[152]=0,_[152]=0,I[152]=0,F[152]=-1,A[152]=0,L[152]=0,N[152]=-1,q[152]=1,m[152]=1,y[152]=0,v[152]=1,b[156]=0,w[156]=-1,E[156]=1,C[156]=1,S[156]=0,k[156]=1,O[156]=-1,j[156]=0,_[156]=0,I[156]=0,F[156]=-1,A[156]=0,L[156]=0,N[156]=1,q[156]=1,m[156]=-1,y[156]=0,v[156]=1,b[137]=0,w[137]=1,E[137]=1,P[137]=0,M[137]=1,x[137]=0,O[137]=-1,j[137]=0,_[137]=0,I[137]=0,F[137]=-1,A[137]=0,d[137]=1,h[137]=0,g[137]=0,m[137]=1,y[137]=0,v[137]=1,b[139]=0,w[139]=1,E[139]=1,P[139]=0,M[139]=-1,x[139]=0,O[139]=1,j[139]=0,_[139]=0,I[139]=0,F[139]=1,A[139]=0,d[139]=-1,h[139]=0,g[139]=0,m[139]=1,y[139]=0,v[139]=1,b[98]=0,w[98]=-1,E[98]=0,P[98]=0,M[98]=-1,x[98]=1,C[98]=1,S[98]=0,k[98]=0,O[98]=1,j[98]=0,_[98]=1,L[98]=0,N[98]=1,q[98]=0,d[98]=-1,h[98]=0,g[98]=1,b[99]=0,w[99]=1,E[99]=0,P[99]=0,M[99]=-1,x[99]=1,C[99]=1,S[99]=0,k[99]=0,O[99]=-1,j[99]=0,_[99]=1,L[99]=0,N[99]=-1,q[99]=0,d[99]=1,h[99]=0,g[99]=1,P[38]=0,M[38]=-1,x[38]=1,C[38]=1,S[38]=0,k[38]=0,I[38]=0,F[38]=1,A[38]=1,L[38]=0,N[38]=1,q[38]=0,d[38]=-1,h[38]=0,g[38]=1,m[38]=-1,y[38]=0,v[38]=0,P[39]=0,M[39]=1,x[39]=1,C[39]=-1,S[39]=0,k[39]=0,I[39]=0,F[39]=-1,A[39]=1,L[39]=0,N[39]=1,q[39]=0,d[39]=-1,h[39]=0,g[39]=1,m[39]=1,y[39]=0,v[39]=0;var D=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},T=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},R=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},G=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},z=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},Z=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},J=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},B=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},W=[],U=[],V=[],H=[],K=[],Q=[],X=[],$=[];H[1]=K[1]=18,H[169]=K[169]=18,V[4]=U[4]=12,V[166]=U[166]=12,W[16]=$[16]=4,W[154]=$[154]=4,Q[64]=X[64]=22,Q[106]=X[106]=22,V[2]=Q[2]=17,H[2]=K[2]=18,V[168]=Q[168]=17,H[168]=K[168]=18,W[8]=H[8]=9,U[8]=V[8]=12,W[162]=H[162]=9,U[162]=V[162]=12,W[32]=$[32]=4,U[32]=X[32]=1,W[138]=$[138]=4,U[138]=X[138]=1,K[128]=$[128]=21,Q[128]=X[128]=22,K[42]=$[42]=21,Q[42]=X[42]=22,U[5]=K[5]=14,U[165]=K[165]=14,V[20]=$[20]=6,V[150]=$[150]=6,W[80]=Q[80]=11,W[90]=Q[90]=11,H[65]=X[65]=3,H[105]=X[105]=3,W[160]=Q[160]=11,U[160]=K[160]=14,W[10]=Q[10]=11,U[10]=K[10]=14,V[130]=$[130]=6,H[130]=X[130]=3,V[40]=$[40]=6,H[40]=X[40]=3,U[101]=X[101]=1,U[69]=X[69]=1,K[149]=$[149]=21,K[21]=$[21]=21,V[86]=Q[86]=17,V[84]=Q[84]=17,W[89]=H[89]=9,W[81]=H[81]=9,W[96]=X[96]=0,U[96]=Q[96]=15,W[74]=X[74]=0,U[74]=Q[74]=15,W[24]=V[24]=8,H[24]=$[24]=7,W[146]=V[146]=8,H[146]=$[146]=7,U[6]=Q[6]=15,V[6]=K[6]=16,U[164]=Q[164]=15,V[164]=K[164]=16,H[129]=$[129]=7,K[129]=X[129]=20,H[41]=$[41]=7,K[41]=X[41]=20,V[66]=X[66]=2,H[66]=Q[66]=19,V[104]=X[104]=2,H[104]=Q[104]=19,W[144]=K[144]=10,Q[144]=$[144]=23,W[26]=K[26]=10,Q[26]=$[26]=23,U[36]=$[36]=5,V[36]=X[36]=2,U[134]=$[134]=5,V[134]=X[134]=2,W[9]=K[9]=10,U[9]=H[9]=13,W[161]=K[161]=10,U[161]=H[161]=13,U[37]=$[37]=5,K[37]=X[37]=20,U[133]=$[133]=5,K[133]=X[133]=20,V[148]=K[148]=16,Q[148]=$[148]=23,V[22]=K[22]=16,Q[22]=$[22]=23,W[82]=V[82]=8,H[82]=Q[82]=19,W[88]=V[88]=8,H[88]=Q[88]=19,W[73]=X[73]=0,U[73]=H[73]=13,W[97]=X[97]=0,U[97]=H[97]=13,W[145]=H[145]=9,K[145]=$[145]=21,W[25]=H[25]=9,K[25]=$[25]=21,U[70]=X[70]=1,V[70]=Q[70]=17,U[100]=X[100]=1,V[100]=Q[100]=17,W[34]=H[34]=9,U[34]=V[34]=12,K[34]=$[34]=21,Q[34]=X[34]=22,W[136]=$[136]=4,U[136]=X[136]=1,V[136]=Q[136]=17,H[136]=K[136]=18,W[35]=$[35]=4,U[35]=V[35]=12,H[35]=K[35]=18,Q[35]=X[35]=22,W[153]=$[153]=4,H[153]=K[153]=18,U[102]=V[102]=12,Q[102]=X[102]=22,W[155]=H[155]=9,K[155]=$[155]=23,U[103]=X[103]=1,V[103]=Q[103]=17,W[152]=$[152]=4,V[152]=Q[152]=17,H[152]=K[152]=18,W[156]=V[156]=8,H[156]=K[156]=18,Q[156]=$[156]=23,W[137]=$[137]=4,U[137]=X[137]=1,H[137]=K[137]=18,W[139]=$[139]=4,U[139]=H[139]=13,K[139]=X[139]=20,W[98]=H[98]=9,U[98]=V[98]=12,Q[98]=X[98]=22,W[99]=X[99]=0,U[99]=V[99]=12,H[99]=Q[99]=19,U[38]=V[38]=12,K[38]=$[38]=21,Q[38]=X[38]=22,U[39]=$[39]=5,V[39]=K[39]=16,Q[39]=X[39]=22;var Y=[];Y[1]=Y[169]=D,Y[4]=Y[166]=T,Y[16]=Y[154]=R,Y[64]=Y[106]=G,Y[168]=Y[2]=z,Y[162]=Y[8]=Z,Y[138]=Y[32]=J,Y[42]=Y[128]=B,Y[5]=Y[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},Y[20]=Y[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},Y[80]=Y[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},Y[65]=Y[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Y[160]=Y[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},Y[130]=Y[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},Y[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Y[101]=Y[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},Y[149]=Y[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},Y[86]=Y[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},Y[89]=Y[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},Y[96]=Y[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},Y[24]=Y[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},Y[6]=Y[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},Y[129]=Y[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},Y[66]=Y[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Y[144]=Y[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Y[36]=Y[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},Y[9]=Y[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Y[37]=Y[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Y[148]=Y[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Y[82]=Y[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},Y[73]=Y[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Y[145]=Y[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Y[70]=Y[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Y[34]=function(e){return[B(e),Z(e)]},Y[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Y[136]=function(e){return[J(e),z(e)]},Y[153]=function(e){return[R(e),D(e)]},Y[102]=function(e){return[T(e),G(e)]},Y[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Y[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Y[152]=function(e){return[R(e),z(e)]},Y[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Y[137]=function(e){return[J(e),D(e)]},Y[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Y[98]=function(e){return[Z(e),G(e)]},Y[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Y[38]=function(e){return[T(e),B(e)]},Y[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},r(385294);var ee=r(402826);const te=function(e,t,r,o){if(o=o||{},!(0,u.Kn)(o))throw new Error("options is invalid");var a=o.units,s=o.zTranslation,f=o.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(s&&"number"!=typeof s&&isNaN(s))throw new Error("zTranslation is not a number");if(s=void 0!==s?s:0,0===t&&0===s)return e;if(null==r||isNaN(r))throw new Error("direction is required");return t<0&&(t=-t,r+=180),!1!==f&&void 0!==f||(e=(0,ee.Z)(e)),(0,n.pZ)(e,(function(e){var o=(0,i.r7)((0,p.Z)(e,t,r,{units:a}));e[0]=o[0],e[1]=o[1],s&&3===e.length&&(e[2]+=s)})),e};function re(e,t,r){var o,n=t[0]-e[0],i=t[1]-e[1],u=r[0]-t[0];return((o=n*(r[1]-t[1])-u*i)>0)-(o<0)||+o}function oe(e,t){return t.geometry.coordinates[0].every((function(t){return(0,a.Z)((0,u.xm)(t),e)}))}const ne=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(e){return e.join(",")},e.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},e.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},e.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,r){var o=t.to,n=r.to;if(o.coordinates[0]-e.coordinates[0]>=0&&n.coordinates[0]-e.coordinates[0]<0)return 1;if(o.coordinates[0]-e.coordinates[0]<0&&n.coordinates[0]-e.coordinates[0]>=0)return-1;if(o.coordinates[0]-e.coordinates[0]==0&&n.coordinates[0]-e.coordinates[0]==0)return o.coordinates[1]-e.coordinates[1]>=0||n.coordinates[1]-e.coordinates[1]>=0?o.coordinates[1]-n.coordinates[1]:n.coordinates[1]-o.coordinates[1];var i=re(e.coordinates,o.coordinates,n.coordinates);return i<0?1:i>0?-1:Math.pow(o.coordinates[0]-e.coordinates[0],2)+Math.pow(o.coordinates[1]-e.coordinates[1],2)-(Math.pow(n.coordinates[0]-e.coordinates[0],2)+Math.pow(n.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},e.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},e}(),ie=function(){function e(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return(0,u.Tu)([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(e){return re(e.from.coordinates,e.to.coordinates,this.to.coordinates)},e}(),ue=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},e.prototype.get=function(e){return this.edges[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.edges.forEach(e)},e.prototype.map=function(e){return this.edges.map(e)},e.prototype.some=function(e){return this.edges.some(e)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,r,o){return r.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=o),t}),0),r=(0===t?this.length:t)-1,o=(t+1)%this.length,n=re(this.edges[r].from.coordinates,this.edges[t].from.coordinates,this.edges[o].from.coordinates);return 0===n?this.edges[r].from.coordinates[0]>this.edges[o].from.coordinates[0]:n>0},e.prototype.toMultiPoint=function(){return(0,u.ot)(this.edges.map((function(e){return e.from.coordinates})))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=(0,u.yu)([e])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=(0,s.Z)(this.toPolygon())},e.findEdgeRingContaining=function(e,t){var r,o,n=e.getEnvelope();return t.forEach((function(t){var i,a,s,f,l,c,p=t.getEnvelope();if(o&&(r=o.getEnvelope()),a=n,s=(i=p).geometry.coordinates[0].map((function(e){return e[0]})),f=i.geometry.coordinates[0].map((function(e){return e[1]})),l=a.geometry.coordinates[0].map((function(e){return e[0]})),c=a.geometry.coordinates[0].map((function(e){return e[1]})),(Math.max.apply(null,s)!==Math.max.apply(null,l)||Math.max.apply(null,f)!==Math.max.apply(null,c)||Math.min.apply(null,s)!==Math.min.apply(null,l)||Math.min.apply(null,f)!==Math.min.apply(null,c))&&oe(p,n)){for(var d=e.map((function(e){return e.from.coordinates})),h=void 0,g=function(e){t.some((function(t){return r=e,o=t.from.coordinates,r[0]===o[0]&&r[1]===o[1];var r,o}))||(h=e)},m=0,y=d;m<y.length;m++)g(y[m]);h&&t.inside((0,u.xm)(h))&&(o&&!oe(r,p)||(o=t))}})),o},e.prototype.inside=function(e){return(0,a.Z)(e,this.toPolygon())},e}();!function(){function e(){this.edges=[],this.nodes={}}e.fromGeoJson=function(t){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var r=new e;return(0,n.nG)(t,(function(e){(0,i.nK)(e,"LineString","Graph::fromGeoJson"),(0,n.Lo)(e,(function(e,t){if(e){var o=r.getNode(e),n=r.getNode(t);r.addEdge(o,n)}return t}))})),r},e.prototype.getNode=function(e){var t=ne.buildId(e),r=this.nodes[t];return r||(r=this.nodes[t]=new ne(e)),r},e.prototype.addEdge=function(e,t){var r=new ie(e,t),o=r.getSymetric();this.edges.push(r),this.edges.push(o)},e.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},e.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var r=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),r.forEach((function(e){return t._removeIfDangle(e)}))}},e.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},e.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,r){e.getOuterEdge((0===r?e.getOuterEdges().length:r)-1).symetric.next=t}))},e.prototype._computeNextCCWEdges=function(e,t){for(var r,o,n=e.getOuterEdges(),i=n.length-1;i>=0;--i){var u=n[i],a=u.symetric,s=void 0,f=void 0;u.label===t&&(s=u),a.label===t&&(f=a),s&&f&&(f&&(o=f),s&&(o&&(o.next=s,o=void 0),r||(r=s)))}o&&(o.next=r)},e.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(r){if(!(r.label>=0)){e.push(r);var o=r;do{o.label=t,o=o.next}while(!r.isEqual(o));t++}})),e},e.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(r){e._computeNextCCWEdges(r,t.label)}))}));var t=[];return this.edges.forEach((function(r){r.ring||t.push(e._findEdgeRing(r))})),t},e.prototype._findIntersectionNodes=function(e){var t=[],r=e,o=function(){var o=0;r.from.getOuterEdges().forEach((function(t){t.label===e.label&&++o})),o>1&&t.push(r.from),r=r.next};do{o()}while(!e.isEqual(r));return t},e.prototype._findEdgeRing=function(e){var t=e,r=new ue;do{r.push(t),t.ring=r,t=t.next}while(!e.isEqual(t));return r},e.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},e.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()}}(),r(416433),r(666640),r(263829);var ae=r(103510);function se(e){for(var t=e,r=[];t.parent;)r.unshift(t),t=t.parent;return r}r(186237),r(661982),r(526916),r(217769),r(28046),r(722777);var fe={search:function(e,t,r,o){e.cleanDirty();var n=(o=o||{}).heuristic||fe.heuristics.manhattan,i=o.closest||!1,u=new pe((function(e){return e.f})),a=t;for(t.h=n(t,r),u.push(t);u.size()>0;){var s=u.pop();if(s===r)return se(s);s.closed=!0;for(var f=e.neighbors(s),l=0,c=f.length;l<c;++l){var p=f[l];if(!p.closed&&!p.isWall()){var d=s.g+p.getCost(s),h=p.visited;(!h||d<p.g)&&(p.visited=!0,p.parent=s,p.h=p.h||n(p,r),p.g=d,p.f=p.g+p.h,e.markDirty(p),i&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),h?u.rescoreElement(p):u.push(p))}}}return i?se(a):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var r=Math.sqrt(2),o=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return 1*(o+n)+(r-2)*Math.min(o,n)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function le(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var r=0;r<e.length;r++){this.grid[r]=[];for(var o=0,n=e[r];o<n.length;o++){var i=new ce(r,o,n[o]);this.grid[r][o]=i,this.nodes.push(i)}}this.init()}function ce(e,t,r){this.x=e,this.y=t,this.weight=r}function pe(e){this.content=[],this.scoreFunction=e}le.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)fe.cleanNode(this.nodes[e])},le.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)fe.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},le.prototype.markDirty=function(e){this.dirtyNodes.push(e)},le.prototype.neighbors=function(e){var t=[],r=e.x,o=e.y,n=this.grid;return n[r-1]&&n[r-1][o]&&t.push(n[r-1][o]),n[r+1]&&n[r+1][o]&&t.push(n[r+1][o]),n[r]&&n[r][o-1]&&t.push(n[r][o-1]),n[r]&&n[r][o+1]&&t.push(n[r][o+1]),this.diagonal&&(n[r-1]&&n[r-1][o-1]&&t.push(n[r-1][o-1]),n[r+1]&&n[r+1][o-1]&&t.push(n[r+1][o-1]),n[r-1]&&n[r-1][o+1]&&t.push(n[r-1][o+1]),n[r+1]&&n[r+1][o+1]&&t.push(n[r+1][o+1])),t},le.prototype.toString=function(){for(var e,t,r,o,n=[],i=this.grid,u=0,a=i.length;u<a;u++){for(e=[],r=0,o=(t=i[u]).length;r<o;r++)e.push(t[r].weight);n.push(e.join(" "))}return n.join("\n")},ce.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},ce.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},ce.prototype.isWall=function(){return 0===this.weight},pe.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,o=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(o)))break;this.content[r]=t,this.content[e]=o,e=r}},bubbleUp:function(e){for(var t=this.content.length,r=this.content[e],o=this.scoreFunction(r);;){var n,i=e+1<<1,u=i-1,a=null;if(u<t){var s=this.content[u];(n=this.scoreFunction(s))<o&&(a=u)}if(i<t){var f=this.content[i];this.scoreFunction(f)<(null===a?o:n)&&(a=i)}if(null===a)break;this.content[e]=this.content[a],this.content[a]=r,e=a}}},r(568368),r(940890),r(763412),r(644544),r(808624),r(888002),r(510294),r(97973);var de=r(875859),he=r(151287),ge=r(832676);function me(e,t,r){void 0===r&&(r={});var o=(0,i.wA)(e),n=(0,i.wA)(t),a=ge.intersection(o.coordinates,n.coordinates);return 0===a.length?null:1===a.length?(0,u.yu)(a[0],r.properties):(0,u.tw)(a,r.properties)}r(769382)}}]);